<section id="widget-grid" class="">


    <div class="row">
        <article class="col-sm-12 col-md-12 col-lg-12 nocollapse">
            <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-1" data-widget-editbutton="false" data-widget-sortable="false">

                <header>

                    <h2>Claim View</h2>


                </header>


                <div>


                    <div class="jarviswidget-editbox">

                    </div>

                    <div class="widget-body no-padding">


                        <form class="smart-form">

                            <!--<fieldset>
        <section>
            <header>Exceptions</header>
            <br />


            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="well well-sm">

                        <div class="smart-timeline">

                            <div class="smart-timeline-content">

                                <p class="label">
                                    PF Balance is not talling with Passbook and Department Records
                                </p>
                                <p class="label">
                                    Claim amount exceeding the annual limit
                                </p>
                                <p class="label">
                                    Loss of employment exeeding the cap of 10,000/-
                                </p>


                            </div>

                        </div>


                    </div>

                </div>

            </div>

        </section>
    </fieldset>-->

                            <header>Beneficiary Details</header>
                            <fieldset disabled="true">
                                <section>
                                    <div class="row">
                                        <div class="col col-6">
                                            <label><strong>Beneficiary Name: </strong>{{beneficiary.benFirstName}} &nbsp; {{beneficiary.benLastName}}</label>
                                        </div>
                                        <div class="col col-6">
                                            <label><strong>SSIN: </strong>{{beneficiary.ssI_Number}}</label>
                                        </div>
                                    </div>
                                </section>
                                <section>
                                    <div class="row">
                                        <div class="col col-6">
                                            <label><strong>Bank Name: </strong>{{beneficiary.benBankName}}</label>
                                        </div>
                                        <div class="col col-6">
                                            <label><strong>Account No: </strong>{{beneficiary.benBankAccNo}}</label>
                                        </div>
                                        <div class="col col-6">
                                            <label><strong>IFSC Code: </strong>{{beneficiary.benBankIfscCode}}</label>
                                        </div>
                                        <div class="col col-6">
                                            <label><strong>Branch: </strong>{{beneficiary.benBankBranch}}</label>
                                        </div>
                                    </div>
                                </section>
                            </fieldset>
                            <div *ngIf="isOnDeathofBeneficiaryOnRequestofNominee">
                                <header>Nominee Details</header>
                                <fieldset>
                                    <section>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong>Name: </strong>{{claim?.nomineeName}}</label>
                                            </div>
                                            <div class="col col-6">
                                                <label><strong>Address: </strong>{{claim?.nomineeAddress}}</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong>Date of Birth: </strong>{{claim?.nomineeDOBString}}</label>
                                            </div>
                                            <div class="col col-6">
                                                <label><strong>Contact Number: </strong>{{claim?.nomineeContact}}</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong>Bank Account No: </strong>{{claim?.nomineeBankAccount}}</label>
                                            </div>
                                            <div class="col col-6">
                                                <label><strong>IFSC Code: </strong>{{claim?.nomineeIFSCCode}}</label>
                                            </div>
                                        </div>
                                    </section>

                                </fieldset>
                            </div>
                            <fieldset disabled="true">
                                <div class="row" id="CheckBoxList">
                                    <div class="col col-3">
                                        <label class="checkbox state-success"><input type="checkbox" name="checkbox" value="PF"><i></i>PF(Provident Fund)</label>
                                    </div>
                                    <div class="col col-3">
                                        <label class="checkbox state-success"><input type="checkbox" name="checkbox" value="Health & Family"><i></i>Health & Family</label>
                                    </div>
                                    <div class="col col-3">
                                        <label class="checkbox state-success"><input type="checkbox" name="checkbox" value="Death & Disability"><i></i>Death & Disability</label>
                                    </div>
                                    <div class="col col-3">
                                        <label class="checkbox state-success"><input type="checkbox" name="checkbox" value="Education" checked="true"><i></i>Education</label>
                                    </div>
                                </div>
                            </fieldset>
                            <header>Education</header>
                            <fieldset>
                                <section>
                                    <label><strong>Claim Amount : </strong>{{claim.educationDetails.approvedAmount}}</label>
                                </section>
                            </fieldset>
                            <header>Dependent Details:</header>
                            <fieldset>
                                <section>
                                    <div *ngFor="let claim of claim.educationDetails.educationDetailList">
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong> Name of the Student: </strong>{{claim.dependentName}} </label>
                                            </div>
                                            <div class="col col-6">
                                                <label> <strong>Name of the Institution: </strong> {{claim.institutionName}}</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong> Name of the Principal/Head Master of the institution:</strong>{{claim.institutionPrinicipleName}} </label>
                                            </div>
                                            <div class="col col-6">
                                                <label> <strong> Contact Number of the Institution: </strong>{{claim.institutionContact}}</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong> Registration No./Roll No. of last exam passed: </strong>{{claim.registrationRollNo}}</label>
                                            </div>
                                            <div class="col col-6">
                                                <label><strong> Year of Examination: </strong>{{claim.Year}}</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong> Date of Admission: </strong>{{claim.dateofAdmissionString}}</label>
                                            </div>
                                            <div class="col col-6">
                                                <label><strong> Last Exam Passed: </strong>{{claim.lastExamPassedName}}</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-6">
                                                <label><strong> Presently Reading: </strong>{{claim.presentlyReadingName}}</label>
                                            </div>
                                            <div class="col col-6">
                                                <label><strong>Eligible Amount :</strong>{{claim.eligibleAmount}}</label>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </fieldset>
                            <header>Educational Attachments</header>
                            <fieldset>
                                <section>
                                    <a (click)="viewAttachment()" class="smart-form-link">View All Attachments</a>
                                </section>
                            </fieldset>
                            <fieldset>
                                <div class="row">
                                    <section class="col col-6">
                                        <label class="label">Approved Amount<span [style.color]="!approvedAmountValid?'red':''"><b>*</b></span></label>
                                        <label class="input">
                                            <input type="text" name="approvedAmount" [disabled]="!isApprovedAmountDisable" [(ngModel)]="review.approvedAmount" placeholder="Approved Amount" NumbersOnly>
                                        </label>
                                    </section>
                                </div>
                            </fieldset>
                            <div *ngIf="isShowClaimsHistory">
                                <header>Claims History</header>
                                <fieldset>
                                    <section>
                                        <div class="row">
                                            <div class="col col-6">
                                                <a (click)="viewHistory()" class="smart-form-link">View Claims History</a>
                                            </div>
                                        </div>
                                    </section>
                                </fieldset>
                            </div>
                            <fieldset>
                                <section>
                                    <label class="label">ALC Comments<span [style.color]="!alcCommentsValid?'red':''"><b>*</b></span></label>
                                    <label class="textarea textarea-resizable">
                                        <textarea rows="3" class="custom-scroll" name="alcComments" [(ngModel)]="review.alcComments"></textarea>
                                    </label>
                                </section>

                            </fieldset>

                            <fieldset>
                                <section>
                                    <label class="label">Exception Comments</label>
                                    <label class="textarea textarea-resizable">
                                        <textarea rows="3" class="custom-scroll" name="exceptionComments" [(ngModel)]="review.exceptionComments"></textarea>
                                    </label>
                                </section>

                            </fieldset>

                            <footer class="modal-footer">
                                <a class="btn btn-success" (click)="saveClaim(15,'approved')">Approve</a>
                                <a class="btn btn-warning" (click)="saveClaim(14,'rejected')"> Reject</a>
                                <a class="btn btn-primary" (click)="saveClaim(13,'send back')"> Send back</a>
                                <a class="btn btn-danger" (click)="cancelclick()"> Cancel</a>
                            </footer>
                        </form>

                    </div>

                </div>

            </div>

        </article>

    </div>

</section>

<div bsModal #attachModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
     aria-hidden="true" backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" (click)="attachModal.hide()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Attachment Details</h4>
            </div>
            <div class="modal-body">
                <accordion>
                    <accordion-group heading="{{item.fileName}}" *ngFor="let item of attachmentList">
                        <div *ngIf="item.fileName.split('.')[item.fileName.split('.').length-1]!='pdf'">
                            <img [src]="'data:image/'+item.fileName.split('.')[item.fileName.split('.').length-1]+';base64,'+ item.fileContent" style="max-width:100%" />
                        </div>
                        <div *ngIf="item.fileName.split('.')[item.fileName.split('.').length-1]=='pdf'">
                            <object [attr.data]="item.attachmenturl" style="width:100%;height:400px" type="application/pdf"></object>
                        </div>
                    </accordion-group>

                </accordion>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="attachModal.hide()">
                    Ok
                </button>
            </div>
        </div>
    </div>
</div>

<div bsModal #successModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
     aria-hidden="true" backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" (click)="successModal.hide()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Success Message</h4>
            </div>
            <div class="modal-body">
                <p id="mesgSubmit">{{successMessage}}</p>
            </div>
            <div class="modal-footer">
                <!--<button type="button" class="btn btn-default" (click)="downloadRecipt()">
                    Download Receipt
                </button>-->
                <button type="button" class="btn btn-primary" (click)="okClick()">
                    Ok
                </button>
            </div>
        </div>
    </div>
</div>
<div bsModal #historyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
     aria-hidden="true" backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" (click)="historyModal.hide()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Claims History</h4>
            </div>
            <div class="modal-body">
                <div>
                    <table class="table table-striped" [mfData]="claimsHistoryData" #mf="mfDataTable" [mfRowsOnPage]="10">
                        <thead>
                            <tr>
                                <th>
                                    Claim Reference No.
                                </th>
                                <th>
                                    Submission Date
                                </th>
                                <th>
                                    Amount
                                </th>
                                <th>
                                    Approved Amount
                                </th>
                                <th>
                                    Status
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let user of mf.data; let i=index;">
                                <td>{{user.claimRefernceNo}}</td>
                                <td>{{user.submittedDateString}}</td>
                                <td>{{user.claimAmount}}</td>
                                <td>{{user.approvedAmount}}</td>
                                <td>{{user.statusName}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="5"></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="historyModal.hide()">
                    Ok
                </button>
            </div>
        </div>
    </div>
</div>