@model SSY.Models.SignUpUser
@{
    ViewBag.Title = "beniPassWordChange";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}
<script src="~/Scripts/my_scripts/PassWordStrength.js"></script>
<script>
    var Result = @Html.Raw(Json.Encode(ViewBag.SucessMes))
</script>
<script src="~/Scripts/jquery.min.js"></script>
<style type="text/css">
    .input-label {
        text-align: left !important;
        min-width: 130px !important;
    }
    .logo {
        padding: 15px 0;
        font-size: 25px;
        color: #333;
        font-weight: bold;
    }
    .row > div {
        margin-bottom: 0px !important;
    }
    #result {
        margin-left: 5px;
        font-weight: bold;
    }
    #signup .short {
        color: #FF0000;
    }
    #signup .weak {
        color: #E66C2C;
    }
    #signup .good {
        color: #2D98F3;
    }
    #signup .strong {
        color: #006400;
    }
</style>
<br class="clearfix" />
<br class="clearfix" />
@Html.ValidationSummary()
<div class="container">
    <div class="logo" style="text-align: center;">Reset Password</div>
    @using (Html.BeginForm("BeniPassWordChange", "Login", FormMethod.Post, new { onsubmit = "return Validateall()", id = "signup", @class = "form-signin text-left" }))
    {
        @Html.AntiForgeryToken()
    <div class="container-fluid" id="sign">
        <div class="input-group extra-space" style="display:none;">
            <span class="input-group-addon input-label"> Name<span style="color: red"> *</span></span>
            @Html.TextBoxFor(m => m.userid, null, new { @class = "form-control  valid", minlength = "3", maxlength = "50", placeholder = "Name", req = "Req", onkeypress = " return IsCharsOnly(event); ", tabindex = "1" })
        </div>
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div class="form-group">
                    <div class="input-group extra-space">
                        <span class="input-group-addon input-label"> Name<span style="color: red"> *</span></span>
                        @Html.TextBoxFor(m => m.Name, null, new { @class = "form-control  valid", minlength = "3", maxlength = "50", placeholder = "Name", req = "Req", onkeypress = " return IsCharsOnly(event); ", tabindex = "1", @readonly = "readonly" })
                    </div>
                </div>
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div class="form-group">
                    <div class="input-group extra-space">
                        <span class="input-group-addon input-label">New Password <span style="color: red">*</span></span>
                        @Html.TextBoxFor(m => m.NewPassWord, null, new { @class = "form-control  valid chkstrength", placeholder = "New Password", maxlength = "8", tabindex = "3" })
                    </div>
                </div>
            </div>
            <div class="col-md-4"><span id="result"></span></div>
        </div>
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <center>
                    <button type="submit" id="Save" class="btn btn-sm card-1 inline btn-primary  clearside">Submit</button>

                    <a id="signreset" onclick="ClearAll()" class="btn btn-sm card-1 inline btn-danger  clearside">Cancel</a>
                </center>
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row" style="margin-top:10px;">
            <center>

                <p style="color:maroon;"><b>Note : Password Should Contain Atleast One Special Character , One Digit && One Capital Letter.</b></p>

            </center>
        </div>
    </div>
        <br />
        <br />
    }
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var message = Result;
        if(message !="" )
        {
            alert(message);
            if(message = "Password Changed Successfully..")
            {
                window.location.href = "/Login/DeptPassWordChange";
            }
        }
    });
    function Validateall() {
         
        if ($("#NewPassWord").val() == "" || $("#NewPassWord").val() == null) {
            alert("Please Enter New Password");
            $("#NewPassWord").focus();
            return false;
        }
        if($("#result").text() !="Strong")
        {
            alert("Password Should Contain Atleast One Special Character , One Digit && One Capital Letter.");
            $("#NewPassWord").focus();
            return false;
        }
        return true;
    }
    function validateEmail() {
        var expr = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (!expr.test($("#Email").val())) {
            alert("Invalid email address.");
            $("#Email").focus();
            return false;
        }
    }
    function IsNumeric(e) {
        var keyCode = e.which ? e.which : e.keyCode
        var ret = ((keyCode >= 48 && keyCode <= 57));
        return ret;
    }
    function IsCharsOnly(e) {
         
        var keyCode = e.keyCode == 0 ? e.charCode : e.keyCode;
        var ret = (((keyCode == 46) || (keyCode == 32) || (keyCode >= 65 && keyCode <= 90) || (keyCode >= 97 && keyCode <= 122)))
        return ret;
    }
    function ClearAll() {
         
       
        window.location.href = "/Login/BeniPassWordChange";
    }
</script>
