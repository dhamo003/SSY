@model SSY.Models.RegistartionForUser
@{
    ViewBag.Title = "Registration";
    Layout = "~/Views/Shared/_EmptyLayout.cshtml";
}
<script src="~/Scripts/jquery.min.js"></script>


<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="http://code.jquery.com/ui/1.8.23/themes/redmond/jquery-ui.css">

<script>
    var validation = @Html.Raw(Json.Encode(ViewBag.validachck))
    var valMes = @Html.Raw(Json.Encode(ViewBag.valMes))
    var Messeage = @Html.Raw(Json.Encode(ViewBag.Message))
    var MesseageCode = @Html.Raw(Json.Encode(ViewBag.MessageCode))
    var Userid = @Html.Raw(Json.Encode(ViewBag.Userid))
    var CheckExisting = @Html.Raw(Json.Encode(ViewBag.CheckExisting))
    var RegistrationType = @Html.Raw(Json.Encode(ViewBag.RegistrationType))
    var BenTempId = @Html.Raw(Json.Encode(ViewBag.BenTempid))
    var Type = @Html.Raw(Json.Encode(ViewBag.Type))


</script>
<style>
    .mandatory {
        color: red;
    }
</style>

@**@
<a href="/Home/Index" class="pull-right" id="idhome" style="margin-right: 53px; margin-top: 24px;display:none">Home Page</a>
@Html.Partial("_RegistrationPreview")
<br />
<br />
@using (Html.BeginForm("Registration", "Registration", FormMethod.Post, new { id = "signupform", onsubmit = "return FinalSubmit()", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="divLoader" style="display:none;"><img src="~/Content/images/Loader3.gif" /></div>

    <div class="wizard notranslate">
        <div class="wizard-inner">
            <ul class="breadcrumb  nav-tabs" role="tablist">
                <li role="presentation" class="" id="disfrst"><a href="#step0" data-toggle="tab" aria-controls="step0" role="tab">First page</a></li>
                <li role="presentation" class="" id="disstep"><a href="#step1" data-toggle="tab" aria-controls="step1" role="tab">Disclaimer</a></li>
                <li role="presentation" class="" id="benistep"><a href="#step2" data-toggle="tab" aria-controls="step2" role="tab">Beneficiary Details</a></li>
                <li role="presentation" class="" id="depstep"><a href="#step3" data-toggle="tab" aria-controls="step3" role="tab">Dependent Details</a></li>
                <li role="presentation" class="" id="addstep"><a href="#step4" data-toggle="tab" aria-controls="step4" role="tab">Additional Affirmation</a></li>
            </ul>
        </div>
        <form role="form">
            <div class="tab-content">
                <div class="tab-pane" role="tabpanel" id="step0">
                    <fieldset class="custom-border">
                        <legend class="custom-border">FirstPage</legend>
                        <center>
                            <div class="container-fluid" id="enrolledsch">
                                <div class="col-sm-12">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                I am already enrolled with Schemes SASPFUW/BOCWA/WBTWSSS
                                                <br>
                                                <input type="radio" name="enscheme" class="EScheme" value="Yes">
                                                <label>Yes</label>
                                                <input type="radio" name="enscheme" value="No" class="EScheme">
                                                <label>No</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </center>
                    </fieldset>
                </div>
                <div class="tab-pane" role="tabpanel" id="step1">
                    <fieldset class="custom-border">
                        <legend class="custom-border">Disclaimer</legend>
                        <div class="container-fluid" id="disclamair">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label class="">Unorganized Worker</label>
                                        <input type="radio" name="Uworker" class="UWrk" value="Yes">
                                        <label>Yes</label>
                                        <input type="radio" name="Uworker" value="No" class="UWrk">
                                        <label>No</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4"></div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <input type="checkbox" name="disenroll" id="enrolledsamajik" value="enroll">
                                        <label class="">I hereby apply to enroll myself as a beneficiary under SAMAJIK SURAKSHA YOJANA and the following statements in relation to this application are given by me.<br></label>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group text-right">
                                                <a id="cancel" href="/Registration/Registration" class="btn btn-default ">Cancel</a>
                                                <a class="btn btn-primary " onclick="DisSub()">Continue</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>

                </div>
                <div class="tab-pane" role="tabpanel" id="step2">
                    <h3 class="">Beneficiary Details</h3>
                    <div class="container-fluid" id="benefiary">
                        <fieldset class="custom-border">
                            <legend class="custom-border ">Beneficiary Details</legend>
                            <div class="row" id="existregdet">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="" id="lblregnum">Registration No <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.registrationno, new { @class = "form-control", @maxlength = 16, @onchange = "Checkuniquenumber()", onkeydown = "return IsAlphaNumaric(event)", style = "text-transform:uppercase" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Registration Date</label>
                                        @Html.TextBoxFor(m => m.Regdate, new { @class = "form-control regdate" })
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label style="" class="translate mandatory">First Name <span style="color: red">*</span></label>

                                        @*<div class="col-md-3" style="padding-right: 0px !important;">
                                                    @Html.DropDownList("ddlfrstname", new List<SelectListItem>
                                            {
                                                 new SelectListItem{ Text="--Select Salutation--", Value = "0" },
                                                new SelectListItem{ Text="Mr.", Value = "Mr." },
                                                new SelectListItem{ Text="Ms.", Value = "Ms." },
                                                  new SelectListItem{ Text="Mrs.", Value = "Mrs." }
                                            }, new { @class = "col-md-2 pull-left form-control custtext Salutation" })
                                                </div>*@

                                        @Html.TextBoxFor(m => m.FirstName, new { style = "width:79%;", @class = "col-md-10 form-control checkstring", @maxlength = 25, onkeypress = "return onlyAlphabetswithoutspaces(event,this)" })


                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Middle Name </label>
                                        @Html.TextBoxFor(m => m.Middlename, new { @class = "form-control", @maxlength = 25, onkeypress = "return onlyAlphabets(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Last Name <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.lstname, new { @class = "form-control", onkeypress = "return onlyAlphabets(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label style="" class="">Father Name <span style="color: red">*</span></label>
                                        <div class="row">
                                            <div class="col-md-3" style="padding-right: 0px !important;">
                                                @Html.DropDownList("ddlfathrsname", new List<SelectListItem>
                                        {
                                            new SelectListItem{ Text="Mr.", Value = "Mr." },
                                            new SelectListItem{ Text="Late.", Value = "Late." }
                                        }, new { @class = "col-md-2 pull-left form-control custtext Salutation" })
                                            </div>
                                            <div class="col-md-9" style="padding-left: 0px !important;">
                                                @Html.TextBoxFor(m => m.FatherName, new { style = "width:79%;", @class = "form-control checkstring", @maxlength = 50, onkeypress = "return onlyAlphabets(event,this)" })
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label id="lblMotherName">Mother Name</label><span style="color: red">*</span>
                                        @Html.TextBoxFor(m => m.MotherName, new { @class = "form-control", @maxlength = 50, onkeypress = "return onlyAlphabets(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Date of Birth <span style="color: red">*</span></label>
                                        <div class="row">
                                            <div class="col-md-4" style="padding-right: 0px !important;">
                                                @Html.DropDownList("ddlyr", new List<SelectListItem>
                                        {
                                            new SelectListItem{ Text="Year", Value = "0" }
                                        }, new { @class = "col-md-4 pull-left form-control custtext Salutation" })
                                            </div>
                                            <div class="col-md-4" style="padding-left: 0px !important; padding-right: 0px !important;">
                                                @Html.DropDownList("ddlmnth", new List<SelectListItem>
                                        {
                                           new SelectListItem{ Text="Month", Value = "0" }
                                        }, new { @class = "col-md-4 pull-left form-control custtext Salutation" })
                                            </div>
                                            <div class="col-md-4" style="padding-left: 0px !important;">
                                                @Html.DropDownList("ddlday", new List<SelectListItem>
                                        {
                                            new SelectListItem{ Text="Day", Value = "0" }
                                        }, new { @class = "col-md-4 pull-left form-control custtext Salutation" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Age <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.age, new { @class = "form-control", @maxlength = 3, @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Gender <span style="color: red">*</span></label>
                                        <br class="clearfix" />
                                        <input type="radio" id="gndrmale" name="bengender" class="bengender" value="Male"><label id="lblmale"> Male</label>
                                        <input type="radio" id="gndrfemale" name="bengender" class="bengender" value="Female"><label id="lblfemale"> Female</label>
                                        <input type="radio" id="gndrother" name="bengender" class="bengender" value="Others"><label> Others</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Marital Status <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.maritalid, new SelectList(Model.maritalstatus, "Value", "Text"), new { @class = "form-control" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Husband Name <span style="color: red">*</span></label>
                                        <div class="row">
                                            <div class="col-md-3" style="padding-right: 0px !important;">
                                                @Html.DropDownList("ddlhusname", new List<SelectListItem>
                                        {
                                            new SelectListItem{ Text="Mr.", Value = "Mr." },
                                        }, new { @class = "col-md-2 pull-left form-control custtext Salutation" })
                                            </div>
                                            <div class="col-md-9" style="padding-left: 0px !important;">
                                                @Html.TextBoxFor(m => m.HusbandName, new { @class = "form-control checkstring", @maxlength = 50, onkeypress = "return onlyAlphabets(event,this)", @readonly = "readonly" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Email </label>
                                        @Html.TextBoxFor(m => m.email, new { @class = "form-control", @onchange = "validateEmail()" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Religion <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.relgid, new SelectList(Model.religion, "Value", "Text"), new { @class = "form-control " })
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Social Category <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.socatid, new SelectList(Model.socategry, "Value", "Text"), new { @class = "form-control " })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">BPL Status <span style="color: red">*</span></label>
                                        <br class="clearfix" />
                                        <input type="radio" class="bplst" name="bplstatus" value="1">
                                        <label>Yes</label>
                                        <input type="radio" class="bplst" name="bplstatus" value="0" checked>
                                        <label>No</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">BPL No. <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.bplno, new { @class = "form-control", @maxlength = "21", onkeypress = "return IsAplhanumericwithHypenandSlash(event)", style = "text-transform:uppercase", @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4" style="display:none">
                                    <div class="form-group">
                                        <label class="">Occupation <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.Occupation, new { @class = "form-control", @maxlength = 22, @readonly = "readonly", })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Mobile No <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.mobno, new { @class = "form-control", @maxlength = 10, @onchange = "validateMobilenum()", onkeypress = "return onlynumber(event,this)" })
                                    </div>
                                </div>
                            </div>
                            @*Change 3*@
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Aadhar Card No</label>
                                        @Html.TextBoxFor(m => m.Aadharcard, new { @class = "form-control", @maxlength = 12, onkeypress = "return onlynumber(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Upload <font size="1">(Photo copy of Aadhar Card)</font></label>
                                        <input type="file" multiple="multiple" name="files[5]" class="form-control" onchange="readAdharURL(this)" id="Aadharcardprof" />
                                        <font size="2"> &nbsp;&nbsp;&nbsp;&nbsp; Aadhar Card limit is upto 2MB, JPEG/PNG/PDF</font>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label class=""></label>
                                    <a href="#" id="clearAadhar"><span class="glyphicon glyphicon-remove-circle" style="margin-left:-30px;margin-top:30px;"></span></a>
                                </div>
                                <div class="col-md-4" style="margin-top:-56px;">
                                    <label class=""></label>
                                    <input type="checkbox" name="AadharYN" id="IdAadharYN" value="AadharYN" style="margin-top:34px;"> If you do not  have Aadhar card tick here
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Epic Card </label>
                                        @Html.TextBoxFor(m => m.epiccard, new { @class = "form-control", @maxlength = 16, onkeydown = "return IsAlphaNumaricWithSpecialCharecter(event)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Upload <font size="1">(Photo copy of Epic Card)</font></label>
                                        <input type="file" multiple="multiple" name="files[1]" class="form-control" onchange="readEpicURL(this)" id="Idproof" />
                                        <font size="2"> &nbsp; ID Proof limit is upto 2MB, JPEG/PNG/PDF</font>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label class=""></label>
                                    <a href="#" id="clearEpic"><span class="glyphicon glyphicon-remove-circle" style="margin-left:-24px;margin-top:30px;"></span></a>
                                </div>
                            </div>

                            <div class="row">
                                @*<div class="col-md-4">
                                        <div class="form-group">
                                            <label class="">Bank Account Number <span style="color: red">*</span></label>
                                            @Html.TextBoxFor(m => m.BankAccNo, new { @class = "form-control", @maxlength = 16, onkeypress = "return onlynumber(event,this)", @tabindex = "47" })
                                        </div>
                                    </div>*@

                            </div>
                        </fieldset>
                        <br class="clearfix" />
                        <div class="">
                            <fieldset class="custom-border">
                                <legend class="custom-border color-white"><span class="leg-sty ">Bank Details</span></legend>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">District <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.disid, new SelectList(Model.district, "Value", "Text"), new { @class = "form-control bankdistid", id = "bankdistid" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Bank Name <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.bnk, new SelectList(Model.bankname, "Value", "Text"), new { @class = "form-control loca", id = "bank" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Account Number <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.actnumber, null, new { @class = "form-control", @maxlength = 16, onkeypress = "return onlynumber(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Location</label>
                                        @Html.DropDownListFor(m => m.locnumber, new SelectList(Model.locname, "Value", "Text"), new { @class = "form-control loca", id = "loc" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Branch Name <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.brnch, new SelectList(Model.branchname, "Value", "Text"), new { @class = "form-control ", id = "brnch" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Address</label>
                                        <textarea name="test_field" id="branchaddress" readonly style="width: 347px;height: 64px;"></textarea>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">IFSC Code</label>
                                        @Html.TextBoxFor(m => m.ifsccode, null, new { @class = "form-control", @maxlength = 11, onkeydown = "return IsAlphaNumaric(event,this)", style = "text-transform:uppercase" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Reason</label>
                                        @Html.TextBoxFor(m => m.txtreason, null, new { @class = "form-control", @maxlength = 11, onkeypress = "return IsAlphaNumaric(event,this)" })
                                        <font size="2">(If IFSC code is not mentioned,then please give reason for that)</font>
                                    </div>
                                </div>


                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Upload <font size="1">(Photo copy of bank passbook first page)</font></label>
                                        <input type="file" multiple="multiple" name="files[0]" class="form-control" onchange="readBankURL(this)" id="Bank" />
                                        <font size="2"> &nbsp;&nbsp;&nbsp;&nbsp; Passbook limit is upto 2MB, JPEG/PNG/PDF</font>
                                        <a href="#" id="clearBank"><span class="glyphicon glyphicon-remove-circle"></span></a>

                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label class=""></label>

                                </div>


                                <div class="row">



                                </div>
                                <div id="divotp" class="row center" style="display:none">
                                    <div class="col-sm-12">
                                        <div class="form-group" style="margin-left:500px;">
                                            <div class="input-group extra-space">
                                                <span class="input-group-addon input-label ">OTP</span>
                                                @Html.TextBox("OtpVerfy", "", null, new { @class = "form-control ", placeholder = "Enter OTP", req = "Req", @maxlength = 4, onkeypress = "return onlynumber(event,this)", style = "width:175px" })
                                                <button type="button" class="btn btn-primary" onclick="ResendOtp()">Resend OTP</button>
                                            </div>
                                            <br>
                                            <a class="btn btn-primary" onclick="OtpSubmit()" style="margin-left:100px;">Submit Form</a>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <fieldset class="custom-border">
                            <legend class="custom-border ">Permanent Address</legend>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">State <span style="color: red">*</span></label>
                                        @Html.TextBox("state", "West Bengal", new { text = "", @class = "form-control", @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">District <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.disid, new SelectList(Model.district, "Value", "Text"), new { @class = "form-control paddistid", id = "perdistid" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Sub Division <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.subdivid, new SelectList(Model.subdivision, "Value", "Text"), new { @class = "form-control persubdivid", id = "persubdivid" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label style="" class="">Block/Municipality/Corporation <span style="color: red">*</span></label>
                                        @Html.DropDownList("ddlBMC", new List<SelectListItem>
                                        {
                                             new SelectListItem{ Text="-- Select Type --", Value = "0" },
                                            new SelectListItem{ Text="Block", Value = "1" },
                                            new SelectListItem{ Text="Muncipality", Value = "2" },
                                            new SelectListItem{ Text="Corporation", Value = "3" },
                                        }, new { @class = "col-md-2 pull-left form-control", id = "peraddBMC" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Name of Block/Municipality/Corporation <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.muncorp, new SelectList(Model.muncorpname, "Value", "Text"), new { @class = "form-control peraddblock", id = "peraddblock" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">P.S <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.ps, new SelectList(Model.psname, "Value", "Text"), new { @class = "form-control perpsid", id = "perpsid" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>P.O <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.po, new SelectList(Model.poname, "Value", "Text"), new { @class = "form-control perPOid", id = "perPOid" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">PIN Code <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.pincode, null, new { @class = "form-control", @maxlength = 6, onkeypress = "return onlynumber(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">GP/Ward </label>
                                        @Html.DropDownListFor(m => m.ward, new SelectList(Model.wardname, "Value", "Text"), new { @class = "form-control ward", id = "ward" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Village/Street/Road <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.vlge1, null, new { @class = "form-control", @maxlength = 150 })
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <br class="clearfix" />
                        <div class="row bene">
                            <input type="checkbox" id="presauto" name="peraddr" value="permntaddr"> <label class="">Same as Permanent Address</label>
                            <br class="clearfix" />
                            <fieldset class="custom-border">
                                <legend class="custom-border color-white"><span class="leg-sty ">Present Address</span></legend>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">State <span style="color: red">*</span></label>
                                        @Html.TextBox("state2", "West Bengal", new { text = "", @class = "form-control", @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">District <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.disid, new SelectList(Model.district, "Value", "Text"), new { @class = "form-control PreAddrdistid", id = "PreAddrdistid" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Sub Division <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.subdivid, new SelectList(Model.subdivision, "Value", "Text"), new { @class = "form-control preAddrsubdiv", id = "preAddrsubdiv" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label style="" class="">Block/Municipality/Corporation <span style="color: red">*</span></label>
                                        @Html.DropDownList("ddlBMC", new List<SelectListItem>
                                        {
                                            new SelectListItem{ Text="-- Select Type --", Value = "0" },
                                            new SelectListItem{ Text="Block", Value = "1" },
                                            new SelectListItem{ Text="Muncipality", Value = "2" },
                                            new SelectListItem{ Text="Corporation", Value = "3" },
                                        }, new { @class = "col-md-2 pull-left form-control ", id = "preaddBMC" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Name of Block/Municipality/Corporation <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.muncorp, new SelectList(Model.muncorpname, "Value", "Text"), new { @class = "form-control preaddBlock", id = "preaddBlock" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">P.S <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.ps, new SelectList(Model.psname, "Value", "Text"), new { @class = "form-control preaddPS", id = "preaddPS" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>P.O <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.po, new SelectList(Model.poname, "Value", "Text"), new { @class = "form-control preaddPO", id = "preaddPO" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">PIN code <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.pincode2, null, new { @class = "form-control", @maxlength = 6, onkeypress = "return onlynumber(event,this)" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">GP/Ward <span style="color: red">*</span></label>
                                        @Html.DropDownListFor(m => m.ward, new SelectList(Model.wardname, "Value", "Text"), new { @class = "form-control ward2", id = "ward2" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class=""> Village/Street/Road <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.vlge2, null, new { @class = "form-control", @maxlength = 150 })
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <br class="clearfix" />
                        <div class="row">
                        </div>
                        <ul class="list-inline pull-right">
                            <li>
                                <a class="btn btn-default prev-step page2">Previous</a>
                            </li>
                            <li>
                                <a class="btn btn-primary " onclick="BenDetSubmit()">Continue</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="tab-pane" role="tabpanel" id="step3">
                    <div class="container-fluid" id="AdditionalAffirmation">
                        <div class="row">
                            <fieldset class="custom-border">
                                <legend class="custom-border ">Dependent Details</legend>
                                <label class="">Do you want to provide Dependent Details</label>
                                <input type="radio" class="depenlst" name="dependentdet" value="Yes" id="depyes">
                                <label>Yes</label>
                                <input type="radio" class="depenlst" name="dependentdet" value="No" id="depno">
                                <label>No</label>
                                <table class="table table-bordered tblfamily
                                       ">
                                    <thead>
                                        <tr style="background: #333; color: white; font-size: 14px; font-weight: 700;">
                                            <th class="">S.No</th>
                                            <th class="" style="width: 50px;">Whether Registered under SASPFUW/BOCW/WBTWSS. If yes, then provide Registration No. </th>
                                            <th class="">Dependent Name</th>
                                            <th class="">Relationship</th>
                                            <th class="">Gender</th>
                                            <th class="">DOB</th>
                                            <th class="">Age (Years)</th>
                                            <th class="">Aadhaar No, if any</th>
                                            <th class="">Scheme PassBook</th>
                                            <th class=""></th>
                                            <th class="" style="display:none;"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <input id="FamSno1" type="text" name="FamSno" class="form-control" value="1" style="width: 39px;" readonly="readonly">
                                            </td>
                                            <td>
                                                <input id="FamWRU1" type="text" class="form-control" name="FamWRU" maxlength="15" onkeypress="return IsAlphaNumaric(event)" style="text-transform:uppercase">
                                            </td>
                                            <td>
                                                <input id="FamDept1" type="text" class="form-control" name="FamDept" maxlength="25" onkeypress="return onlyAlphabets(event,this)">
                                            </td>
                                            <td>
                                                <select id="DDLFamRel1" name="DDLFamRel" class="form-control">
                                                    <option value="Father">Father</option>
                                                    <option value="Mother">Mother</option>
                                                    <option value="Spouse">Spouse</option>
                                                    <option value="Son">Son</option>
                                                    <option value="Daughter">Daughter</option>
                                                </select>
                                            </td>
                                            <td>
                                                <select id="DDLFamGender1" class="form-control" name="DDLGender" style="width: 98px;">
                                                    <option value="Male">Male</option>
                                                    <option value="Female">Female</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input id="FamDob1" type="text" class="form-control notranslate FamDob " name="Dob" style="width: 130px;">
                                            </td>
                                            <td>
                                                <input id="FamAge1" type="text" class="form-control" name="FamAge" onkeypress="return onlynumber(event,this)" maxlength="3" readonly="readonly">
                                            </td>
                                            <td>
                                                <input id="AdhNoFam1" type="text" class="form-control" name="AdhNoFam" onkeydown="return IsNumericOnly(event)" maxlength="12">
                                            </td>
                                            <td>
                                                <input type="file" multiple="multiple" name="files[7]" class="form-control" id="schpassbk1" />
                                            </td>
                                            <td></td>
                                            <td style="display:none;"> <label id="lblschemechk1">0</label></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="pull-right btndepen">
                                    <a onclick="AddFamilyRow()" class="btn btn-primary ">Add</a>
                                </div>
                            </fieldset>
                            <br class="clearfix" />
                            <fieldset class="custom-border">
                                <legend class="custom-border color-white"><span class="leg-sty">Nominee Details </span></legend>
                                <label class="">Do you want to provide Nominee Details</label>
                                <input type="radio" class="nomineelst" name="nomineedet" value="Yes" id="nomiyes">
                                <label>Yes</label>
                                <input type="radio" class="nomineelst" name="nomineedet" value="No" id="nomino">
                                <label>No</label>
                                <table class="table table-bordered tblNaminee">
                                    <thead>
                                        <tr style="background: #333; color: white; font-size: 14px; font-weight: 700;">
                                            <th class="">S.No</th>
                                            <th class="">Name</th>
                                            <th class="">Relationship with applicant</th>
                                            <th class="">Gender</th>
                                            <th class="">DOB</th>
                                            <th class="">Age (Years)</th>
                                            <th class="">Share Allocation</th>
                                            <th class="">Bank Name</th>
                                            <th class="">Bank Account No.</th>
                                            <th class="">Branch Name</th>
                                            <th class="">IFSC Code</th>
                                            <th class=""></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <input id="NamiSno1" type="text" name="FamSno" class="form-control" value="1" style="width: 39px;" readonly="readonly">
                                            </td>
                                            <td>
                                                <input id="NamiName1" type="text" name="NamiName" class="form-control" style="width: 112px;" maxlength="25" onkeypress="return onlyAlphabets(event,this)">
                                            </td>
                                            <td>
                                                <select id="DDLNamRel1" name="DDLNamRel" class="form-control" style="width: 92px;">
                                                    <option value="Father">Father</option>
                                                    <option value="Mother">Mother</option>
                                                    <option value="Spouse">Spouse</option>
                                                    <option value="Son">Son</option>
                                                    <option value="Daughter">Daughter</option>
                                                    <option value="Others">Others</option>
                                                </select>
                                            </td>
                                            <td>
                                                <select id="DDLNamGender1" name="DDLGender" class="form-control" style="width: 92px;">
                                                    <option value="Male">Male</option>
                                                    <option value="Female">Female</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input id="namdob1" type="text" name="namdob" class="form-control namdob " style="width: 130px;">
                                            </td>
                                            <td>
                                                <input id="NamAge1" type="text" name="NamAge" class="form-control" style="width: 39px;" onkeypress="return onlynumber(event,this)" maxlength="3" readonly="readonly">
                                            </td>
                                            <td>
                                                <input id="SahreAlo1" type="text" name="SahreAlo" class="form-control" maxlength="3" onkeypress="return onlynumber(event,this)" onchange="Changevalue()">
                                            </td>
                                            <td>
                                                <input id="Bankname1" type="text" name="Bankname" class="form-control" maxlength="16" onkeypress="return onlyAlphabets(event,this)">
                                            </td>
                                            <td>
                                                <input id="BankActNo1" type="text" name="BankActNo" class="form-control" maxlength="16" onkeypress="return onlynumber(event,this)">
                                            </td>
                                            <td>
                                                <input id="BranchName1" type="text" name="BranchName" style="width: 100px;" class="form-control" maxlength="25" onkeypress="return onlyAlphabets(event,this)">
                                            </td>
                                            <td>
                                                <input id="NamIfscCode1" type="text" name="NamIfscCode" style="width: 85px;text-transform:uppercase" class="form-control" maxlength="11" onkeydown="return IsAlphaNumaric(event)">
                                            </td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="pull-right btnnom">
                                    <a onclick="NamineeAdd()" id="" class="btn btn-primary ">Add</a>
                                </div>
                            </fieldset>
                        </div>
                        <br class="clearfix" />
                        <fieldset class="custom-border">
                            <legend class="custom-border ">Form 1</legend>
                            <div class="row">
                                <div class="col-md-12 ">
                                    <label class="">Do you have Application Form under SSY-2017 <span style="color: red">*</span></label>
                                    <input type="radio" class="formlst" name="formstatus" value="Yes" id="frmyes">
                                    <label>Yes</label>
                                    <input type="radio" class="formlst" name="formstatus" value="No" id="frmno">
                                    <label>No</label>
                                </div>
                            </div>
                            <div class="row" id="Benform" style="display:none;">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Form 1 <span style="color: red">*</span></label>
                                        <input type="file" multiple="multiple" name="files[4]" onchange="readFormURL(this)" class="form-control" id="BenForm1" />
                                        <font size="2"> &nbsp; Form limit is upto 2MB, JPEG/PNG/PDF</font>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Issuing Authority</label>
                                        @Html.DropDownListFor(m => m.issueauth, new SelectList(Model.issueAuthName, "Value", "Text"), new { @class = "form-control ", @disabled = "true", @required = "required", @readonly = "" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Name of the area of certificate issuing authority <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.authloc, null, new { @class = "form-control", @maxlength = 50, onkeypress = "return onlyAlphabets(event,this)", @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="">Full Name of the certificate issuing authority <span style="color: red">*</span></label>
                                        @Html.TextBoxFor(m => m.authname, null, new { @class = "form-control", @maxlength = 75, onkeypress = "return onlyAlphabets(event,this)", @readonly = "readonly" })
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <br class="clearfix" />
                        <fieldset class="custom-border">
                            <legend class="custom-border ">Upload Documents</legend>
                            <div class="row">
                                <table>
                                    <tr>
                                        <td class="">Photo of the Applicant <span style="color: red">*</span></td>
                                        <td>
                                            <input type="file" multiple="multiple" name="files[2]" class="form-control" id="Photo" onchange="readPhotoURL(this)" style=" margin-left:81px; width:309px;" />
                                        </td>
                                        <td class=""><font size="2"> &nbsp; Photo limit is upto 2MB, JPEG/PNG</font></td>
                                    </tr>
                                </table>
                                <br />
                                <table>
                                    <tr>
                                        <td class="">Signature of the Applicant <span style="color: red">*</span></td>
                                        <td>
                                            <input type="file" multiple="multiple" name="files[3]" class="form-control" id="Signature" onchange="readSignURL(this)" style="margin-left: 60px; width: 309px;" />
                                        </td>
                                        <td class=""><font size="2"> &nbsp; Signature limit is upto 2MB, JPEG/PNG/PDF</font></td>
                                    </tr>
                                </table>
                                <br />
                                <table id="tblschemecert" style="display:none;">
                                    <tr>
                                        <td class="">Front page of the pass book under SASPFUW/ Identity Card issued to the construction worker/ Identity Card issued to the transport worker<span style="color: red">*</span></td>

                                    </tr>
                                    <tr>
                                        <td>
                                            @*    style="margin-left: 60px; width: 309px;"*@
                                            <input type="file" multiple="multiple" name="files[6]" class="form-control" id="idschemecert" onchange="readSchemeCertURL(this)" style=" width: 309px;  margin-top: 11px;    margin-bottom: -22px;" />
                                            <font size="2" style="margin-left: 324px;"> &nbsp; Scheme Certificate limit is upto 2MB, JPEG/PNG/PDF</font>
                                        </td>
                                        @*<td class=""><font size="2"> &nbsp; Scheme Certificate limit is upto 2MB, JPEG/PNG/PDF</font></td>*@
                                    </tr>
                                </table>
                                <table>
                                    <tr>
                                        <td class="">Any Other Document</td>
                                        <td>
                                            <input type="file" multiple="multiple" name="files[10]" class="form-control" id="OtherDoc" style="margin-left: 102px; width: 309px;" />
                                        </td>
                                        <td class=""><font size="2"> &nbsp; Document limit is upto 2MB, JPEG/PNG/PDF</font></td>
                                    </tr>
                                </table>


                                <br />
                                <br />
                                <br />
                            </div>
                            <ul class="list-inline pull-right">
                                <li>
                                    <a class="btn btn-default prev-step page3">Previous</a>
                                </li>
                                <li>
                                    <a class="btn btn-primary btn-info-full " onclick="DepdentDet()">Continue</a>
                                </li>
                            </ul>
                        </fieldset>
                    </div>
                </div>
                <div class="tab-pane" role="tabpanel" id="step4">
                    <h3 class="">Additional Affirmation</h3>
                    <div class="container-fluid" id="AdditionalAffirmation">
                        <div class="row">
                            <fieldset class="custom-border">
                                <legend class="custom-border  color-white">PF/ESI Details</legend>
                                <div class="form-group" id="divpfesidet" style="margin-bottom: -33px;margin-left: 40px;">
                                    <label><input type="checkbox" id="chkpf" class="pfesilst" name="pfesidet" value="PF">PF under EPF & MP Act 1952</label>
                                </div>
                                <div class="form-group" id="divesidet" style="margin-left: 458px;">
                                    <label><input type="checkbox" id="chkesi" class="clschkesi" name="esidet" value="ESI">ESI under ESI Act 1948</label>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>PF Number</label>
                                        @Html.TextBoxFor(m => m.esinum, null, new { style = "width: 260px; text-transform:uppercase", @class = "form-control", @maxlength = "89", onkeypress = "return IsAlphaNumaric(event)", @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>ESI Number</label>
                                        @Html.TextBoxFor(m => m.esi, null, new { style = "width: 260px; text-transform:uppercase", @class = "form-control", @maxlength = "90", onkeypress = "return IsAlphaNumaric(event)", @onchange = "checkpf()", @readonly = "readonly" })
                                    </div>
                                </div>
                                <div class="col-md-4" style="width: 100%;display:none;" id="divPFOpt">
                                    <div class="form-group">
                                        <label class="">I would like to opt PF </label>
                                        <input type="radio" class="Pf" name="pfsta" value="1">
                                        <label> Yes</label>
                                        <input type="radio" class="Pf" name="pfsta" value="0">
                                        <label> No</label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <br class="clearfix" />
                        <div class="row">
                            <fieldset class="custom-border">
                                <legend class="custom-border   color-white">Employee Type</legend>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="">Worker Type</label>
                                            &nbsp; &nbsp;
                                            <input type="radio" name="Workertype" class="workerdet" value="ConstructionWorker">
                                            <label class=""> Construction Worker</label>
                                            <input type="radio" name="Workertype" class="workerdet" value="TransportWorker">
                                            <label class=""> Transport Worker</label>
                                            <input type="radio" name="Workertype" class="workerdet" value="Others">
                                            <label class=""> Others</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <input type="radio" name="Emptype" class="Wortype" value="SelfEmployed" disabled><label class="translate">  Self Employed <span style="color: red">*</span></label>
                                            @Html.DropDownListFor(m => m.selfid, new SelectList(Model.self, "Value", "Text"), new { @class = "form-control ", @disabled = "true", @required = "required", @readonly = "" })
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <input type="radio" name="Emptype" class="Wortype" value="UnorganisedIndustries" disabled><label class="translate">  Unorganised Industries <span style="color: red">*</span></label>
                                            @Html.DropDownListFor(m => m.unorgid, new SelectList(Model.unorg, "Value", "Text"), new { @class = "form-control ", @disabled = "true", @required = "required", @readonly = "" })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <label class="">I am a Self-Employed Worker engaged in the scheduled unorganised sector under the scheme</label>
                                </div>
                                <br />
                                <br />
                                <div class="col-md-4">
                                    <label class="">Name of my occupation</label>
                                    @Html.TextBoxFor(m => m.occu, null, new { @class = "form-control", @maxlength = 20, @readonly = "readonly" })
                                </div>
                                <div class="col-md-4">
                                    <label class="">Self Employment</label>
                                    @Html.TextBoxFor(m => m.selfemp, null, new { @class = "form-control", @maxlength = 20, @readonly = "readonly" })
                                </div>
                                <div class="col-md-4">
                                    <label class="">Establishment Address </label>
                                    @Html.TextBoxFor(m => m.estbaddress, null, new { @class = "form-control", @maxlength = 150 })
                                </div>
                            </fieldset>
                        </div>
                        <br class="clearfix" />
                        <div class="row">
                            <fieldset class="custom-border">
                                <legend class="custom-border color-white ">Income Details</legend>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label class="col-md-3 ">My monthly family income from all sources: <span style="color: red">*</span> Rs. </label>
                                        <div class="col-md-4">
                                            @Html.TextBoxFor(m => m.mnthyincme, null, new { @class = " form-control", style = "display:inline-block !important;width:auto !important", @maxlength = 10, onkeypress = "return onlynumber(event,this)" })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <br />
                                        <label><strong> It is the responsibility of the applicant to follow up with Labour Department officials at your Location to get all the documents verified within 7 working days. </strong></label>
                                        <br />
                                        <br />
                                        <input type="checkbox" id="lstcheckagree" name="agree" value="agresamajk">  <strong>I agree to abide by the Samajik Suraksha Yojana (Rules and Regulations) 2017</strong>
                                        <br>
                                    </div>
                                </div>
                            </fieldset>
                            <br class="clearfix" />

                        </div>
                        <br />
                        <ul class="list-inline pull-right">
                            <li>
                                <a href="#" data-toggle="modal" data-target=".regpop" class="btn btn-default btnpreview">Preview</a>
                                <a class="btn btn-default prev-step page4 ">Previous</a>
                                <a class="btn btn-primary finalsub" onclick="AdditionalInfoSubmit()">Submit</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
        <br />
        <input type="hidden" id="BenAddress" value="21212" name="BenAddress" />
        <input type="hidden" id="Bennamedet" value="1212" name="Bennamedet" />
        <input type="hidden" id="BenFamdet" value="12121" name="BenFamdet" />
        <input type="hidden" id="NamCount" value="1112121231" name="NamCount" />
        <input type="hidden" id="FamCount" value="1112121231" name="FamCount" />
        <input type="hidden" id="SelfEmpNo" value="" name="SelfEmpNo" />
        <input type="hidden" id="BankDisId" value="1112121231" name="BankDisId" />
        <input type="hidden" id="BankLoca" value="1112121231" name="BankLoca" />
        <input type="hidden" id="DepUserid" value="" name="DepUserid" />
        <input type="hidden" id="CheckPfStatus" value="1" name="CheckPfStatus" />
        <input type="hidden" id="DependentStatus" value="1" name="DependentStatus" />
        <input type="hidden" id="NomineeStatus" value="1" name="NomineeStatus" />
        <input type="hidden" id="TempBensno" value="0" name="TempBensno" />
        <input type="hidden" id="RegistrationType" value="0" name="RegistrationType" />
        <input type="hidden" id="Type" value="0" name="Type" />


    </div>


}

<div class="modal fade" id="SuccessModal">
    <div class="modal-dialog modal-dialog-centered  modal-sm">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Samajik Suraksha Yojana</h4>

            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <label id="lblmessage"></label>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btnclosemodal">Close</button>
            </div>

        </div>
    </div>
</div>

<script>
    $( document ).ready(function() {


        $('#SuccessModal').modal({backdrop: 'static', keyboard: false,show: false})




        $("#divPFOpt").show();
         

        $("#RegistrationType").val(RegistrationType);

        $("#Type").val(Type);
        if(RegistrationType == "Legacy1")
        {
            $("#lblregnum").text("Registration No under while SASPFUW/ BOCW/ WBTWSSS");
        }
        else if(RegistrationType == "Legacy2")
        {
            $("#lblregnum").text("Temporary Registration No under SSY");
        }
        else
        {
            $("#lblregnum").text("Registration No");
        }



        if(RegistrationType == "NewReg" && BenTempId != "")
        {
            $("#TempBensno").val(BenTempId);
            $('#step0').removeClass('active');
            $('#step1').removeClass('active');
            $('#step2').addClass('active');
            $('#disfrst').removeClass('active');
            $('#disstep').removeClass('active');
            $('#benistep').addClass('active');
            $("#disclamair").show();
            $("#step0").hide();
            $('#step1').hide();

            if(BenTempId !="" && BenTempId != null)
            {
                GetTempDetail(BenTempId)

            }
        }
        if(RegistrationType =="" && BenTempId == "")
        {
            $("#idhome").show();
        }
        if(CheckExisting == "1" && BenTempId == "")
        {
            if(RegistrationType  =="NewReg" ||RegistrationType =="")
            {
                $("#existregdet").hide();
                $('#step0').addClass('active');
                $('#disfrst').addClass('active');
                $('#benistep').removeClass('active');
            }
            else
            {
                $('#step0').removeClass('active');
                $('#step1').removeClass('active');
                $('#step2').addClass('active');
                $('#disfrst').removeClass('active');
                $('#disstep').removeClass('active');
                $('#benistep').addClass('active');
                $("#disclamair").show();
                $("#step0").hide();
                $('#step1').hide();
            }
        }
        else
        {
            if(BenTempId == "")
            {
                if(RegistrationType  =="NewReg" ||RegistrationType =="")
                {
                    $("#existregdet").hide();
                }
                $('#step0').addClass('active');
                $('#disfrst').addClass('active');
            }
        }
        if(Messeage !="")
        {

            //if(RegistrationType == "" || RegistrationType == null)
           // {
             //   window.location.href = "/Registration/Registration";

           // }

           // else
           // {

           //     window.location.href = "/Registration/Registration?Status="+RegistrationType;

            //  }
            // $("#RegFrmae").attr("src", "/Registration/BeniRegistrationPart1?Status=&Id=&CreatedBy=1");

            $("#SuccessModal").modal("show");

            $("#lblmessage").text(Messeage);

            $(".btnclosemodal").click(function()
            {
                if(Userid == "1"){
                    alert(Messeage);

                    window.top.location.href = "/Registration/BeniRegistrationPart1?Status=&Id=&CreatedBy=1";
                    return false;
                }
                else
                {
                    alert(Messeage);

                    window.top.location.href = "/Agent/BenReg";
                    return false;



                }
            })







        }
        if('@Session["Status"]' == "Yes")
        {
            $("#registrationno").focus();
            $("#tblschemecert").show();
            $("#tblpreviewSchemecert").show();
        }
        $("#SuccessMessage").delay(5000).fadeOut();
        $("#disfrst").show();
        $("#DepUserid").val(Userid);
        binddatepicker()
        getdates()
        var WorkerStatus = $("input[name='Workertype']:checked").val()
        $("#Occupation").val(WorkerStatus);
        if( $("#ddlcards").val()=="1")
        {
            $("#cards").attr('maxlength','12');
            $("#cards").attr('onkeydown','return IsNumericOnly(event)');
        }
        //Epic
        if( $("#ddlcards").val()=="2")
        {
            $("#cards").attr('maxlength','15');
            $("#cards").attr('onkeydown','return IsAlphaNumaric(event)');
        }
        //Driving License
        if( $("#ddlcards").val()=="3")
        {
            $("#cards").attr('maxlength','20');
            $("#cards").attr('onkeydown','return IsAlphaNumaric(event)');
        }
        $("#issueauth") .attr("disabled", true);
        $("#authloc").attr("readonly", "readonly");
        $("#authname").attr("readonly", "readonly");
        $("#FamDob1").change(function () {
            var dob = $("#FamDob1").val();
            var dateAr = dob.split('-');
            var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
            var age = calculateAge(dateofbirth);
            $("#FamAge1").val(age)
        })
        $("#FamWRU1").change(function () {
             
            var Regisnum = $("#FamWRU1").val();
            $('#lblschemechk1').text("0");
            if(Regisnum !="")
            {
                $.get('@Url.Action("GetBenDetails", "Agent")', { id: Regisnum}, function (dat) {
                     
                    if(dat == "")
                    {
                        alert("No Data Found, Please Enter Data Manually.");
                        $('#lblschemechk1').text("0");
                        return false;
                    }
                    $('#lblschemechk1').text("1");
                    $("#FamDept1").val(dat.BenFirstName +' '+ dat.BenMiddleName +' '+ dat.BenLastName);
                    $("#DDLFamGender1").val(dat.BenGender);
                    $("#FamDob1").val(dat.BenDob);
                    $("#FamAge1").val(dat.BenAge);
                    $("#AdhNoFam1").val(dat.AadharCard);
                    $("#schpassbk1").show();
                });
            }

        })
        //Gender Change
        $("#DDLFamGender1").change(function () {
            var famrel =  $("#DDLFamRel1").val();
            var famgen =  $("#DDLFamGender1").val();
            if(famgen =="Male")
            {
                if(famrel == "Mother" ||famrel == "Daughter")
                {
                    alert("Invalid Gender");
                    return false;
                }
            }
            if(famgen =="Female")
            {
                if(famrel == "Father" ||famrel == "Son")
                {
                    alert("Invalid Gender");
                    return false;
                }
            }
        });
        $("#DDLNamGender1").change(function () {
            var namrel =  $("#DDLNamRel1").val();
            var namgen =  $("#DDLNamGender1").val();
            if(namgen =="Male")
            {
                if(namrel == "Mother" ||namrel == "Daughter")
                {
                    alert("Invalid Gender");
                    return false;
                }
            }
            if(namgen =="Female")
            {
                if(namrel == "Father" ||namrel == "Son")
                {
                    alert("Invalid Gender");
                    return false;
                }
            }
        });
        $("#namdob1").change(function () {
            var dob = $("#namdob1").val();
            var dateAr = dob.split('-');
            var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
            var age = calculateAge(dateofbirth);
            $("#NamAge1").val(age)
        })
    });
    //1 - Branch Det
    $("#loc").change(loadbranchdet);
    function loadbranchdet() {
        $.get('@Url.Action("GetBranchJSON", "Registration")', {ID :$("#loc").val()}, function (dat) {
            $("#brnch").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#brnch").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //2 - Location
    $("#bank").change(loadLocdet);
    function loadLocdet() {
        $.get('@Url.Action("GetLocationJSON", "Registration")', {ID :$("#bank").val(),distID :$("#bankdistid").val()}, function (dat) {
            $("#loc").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#loc").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //Bank
    $("#bankdistid").change(loadbankdet);
    function loadbankdet() {
        $("#bank").val("0");
        $("#loc").val("0");
        $("#brnch").val("0");
        $("#ifsccode").val("");
        $("#actnumber").val("");
        $.get('@Url.Action("GetBankJSON", "Registration")', {ID :$("#bankdistid").val()}, function (dat) {
            $("#bank").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#bank").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //po
    $("#PreAddrdistid").change(loadprePO);
    function loadprePO() {
        $.get('@Url.Action("GetPOJSON", "Registration")', {ID :$("#PreAddrdistid").val()}, function (dat) {
            $("#preaddPO").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preaddPO").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //Block
    $("#preaddBMC").change(loadpreBlock);
    function loadpreBlock() {
         
        $.get('@Url.Action("GetblockJSON", "Registration")', {ID :$("#preAddrsubdiv").val(),typedata :$("#preaddBMC").val()}, function (dat) {
            $("#preaddBlock").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preaddBlock").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
        var Dist = $("#PreAddrdistid").val();
        var Blk = $("#preaddBMC").val();
        if((Dist != "12" && Blk == "2") || (Dist != "12" && Blk == "3"))
        {
            //$("#ward2").find("option").remove();
            //$("#ward2").append('<option value=0>All Wards</option>');
            $.get('@Url.Action("GetGPJSON", "Registration")', {ID :0}, function (dat) {
                $("#ward2").find("option").remove();
                $.each(dat, function (i, data) {
                     
                    $("#ward2").append("<option value=" + data.Value + ">"+data.Text+"</option>");
                });
            });
        }
        else
        {
            loadGPre();
        }
    }
    //For Present Address
    $("#preaddBlock").change(loadGPKolkata);
    function loadGPKolkata(){
        var DistGPK = $("#PreAddrdistid").val();
        var BlkGPK = $("#preaddBMC").val();
        if(DistGPK == "12" && BlkGPK == "3")
        {
            $("#ward2").find("option").remove();
            var BlockName= $("#preaddBlock option:selected").text();
            $("#ward2").append('<option value=9999>'+BlockName+'</option>');
            $("#ward2").val('9999');
        }
    }
    //Permanent
    $("#peraddblock").change(loadGPKolkataPer);
    function loadGPKolkataPer(){
        var DistGPPer = $("#perdistid").val();
        var BlkGPPer = $("#peraddBMC").val();
        if(DistGPPer == "12" && BlkGPPer == "3")
        {
            $("#ward").find("option").remove();
            var BlockName= $("#peraddblock option:selected").text();
            $("#ward").append('<option value=9999>'+BlockName+'</option>');
            $("#ward").val('9999');
            //Present
            $("#ward2").find("option").remove();
            $("#ward2").append('<option value=9999>'+BlockName+'</option>');
            $("#ward2").val('9999');
        }
        else
        {
            loadGPKolkata();
        }
    }
    $("#PreAddrdistid").change(loadpreSubdiv);
    function loadpreSubdiv() {
        $("#preAddrsubdiv").val("0");
        $("#preaddBlock").val("0");
        $("#preaddBMC").val("0");
        $("#preaddPS").val("0");
        $("#preaddPO").val("0");
        $("#pincode2").val("");
        $("#ward2").val("0");
        $("#vlge2").val("");
        loadGPre();
        loadpreBlock();
        $.get('@Url.Action("GetSubdivisionJSON", "Registration")', {ID :$("#PreAddrdistid").val()}, function (dat) {
            $("#preAddrsubdiv").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preAddrsubdiv").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    $("#perdistid").change(loadSubdiv);
    function loadSubdiv() {
        $("#persubdivid").val("0");
        $("#peraddBMC").val("0");
        $("#peraddblock").val("0");
        $("#perpsid").val("0");
        $("#perPOid").val("0");
        $("#pincode").val("");
        $("#ward").val("0");
        $("#vlge1").val("");
        loadGP()
        loadBlock()
        $.get('@Url.Action("GetSubdivisionJSON", "Registration")', {ID :$("#perdistid").val()}, function (dat) {
            $("#persubdivid").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#persubdivid").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
            //Present Address
            $("#preAddrsubdiv").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preAddrsubdiv").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    $("#peraddBMC").change(loadBlock);
    function loadBlock() {
        $.get('@Url.Action("GetblockJSON", "Registration")', {ID :$("#persubdivid").val(),typedata : $("#peraddBMC").val()}, function (dat) {
             
            $("#peraddblock").find("option").remove();
            $.each(dat, function (i, data) {
                // 
                $("#peraddblock").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
            //Present Address Block
            $("#preaddBlock").find("option").remove();
            $.each(dat, function (i, data) {
                // 
                $("#preaddBlock").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
        var perDist = $("#perdistid").val();
        var perBlk = $("#peraddBMC").val();
        if((perDist != "12" && perBlk == "2") || (perDist != "12" && perBlk == "3"))
        {
            //$("#ward").find("option").remove();
            //$("#ward").append('<option value=0>All Wards</option>');
            //$("#ward2").find("option").remove();
            //$("#ward2").append('<option value=0>All Wards</option>');

            $.get('@Url.Action("GetGPJSON", "Registration")', {ID :0}, function (dat) {
                $("#ward2").find("option").remove();
                $("#ward").find("option").remove();
                $.each(dat, function (i, data) {
                     
                    $("#ward2").append("<option value=" + data.Value + ">"+data.Text+"</option>");
                    $("#ward").append("<option value=" + data.Value + ">"+data.Text+"</option>");
                });
            });
        }
        else
        {
            loadGP();
        }
    }
    $("#PreAddrdistid").change(loadprePS);
    function loadprePS() {
        $.get('@Url.Action("GetPSJSON", "Registration")', {ID :$("#PreAddrdistid").val()}, function (dat) {
            $("#preaddPS").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preaddPS").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //Load Ps Based On District Id Start
    $("#perdistid").change(loadPS);
    function loadPS() {
        $.get('@Url.Action("GetPSJSON", "Registration")', {ID :$("#perdistid").val()}, function (dat) {
            $("#perpsid").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#perpsid").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
            //present Address Block
            $("#preaddPS").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preaddPS").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //Load Ps Based On District Id End


    $("#perdistid").change(loadperPO);
    function loadperPO() {
        $.get('@Url.Action("GetPOJSON", "Registration")', {ID :$("#perdistid").val()}, function (dat) {
            $("#perPOid").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#perPOid").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
            //Present
            $("#preaddPO").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#preaddPO").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    //GP List
    $("#persubdivid").change(loadGP);
     
    function loadGP() {
        $.get('@Url.Action("GetGPJSON", "Registration")', {ID :$("#persubdivid").val()}, function (dat) {
            $("#ward").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#ward").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
            //Present Address
            $("#ward2").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#ward2").append("<option value=" + data.Value + "> " + data.Text + " </option>");
            });
        });
    }
    function getdates()
    {
        $(".FamDob,.namdob").datepicker({
            dateFormat: "dd-mm-yy",
            changeYear: true,
            yearRange: "1920:2017",
            autoclose: true
        })
        var dat = new Date();
        var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
        var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
        var today = day + "-" + month + "-" + dat.getFullYear();
        $(".FamDob,.namdob").val(today);
        if(RegistrationType =="Yes" || RegistrationType  =="NewReg"||RegistrationType =="" )
        {


            //if(RegistrationType == "Yes")
            //{

            //    $(".regdate").datepicker({
            //        dateFormat: "dd-mm-yy",
            //        changeYear: true,
            //        yearRange: "2001:2017",
            //        autoclose: true,
            //        minDate: new Date(2001, 03, 01),
            //        maxDate: new Date(2017, 02, 31),

            //    })
            //    var dat = new Date();
            //    var today = "31-03-2017";
            //    $(".regdate").val(today);
            //}
            //else
            //{
                $(".regdate").datepicker({
                    dateFormat: "dd-mm-yy",
                    changeYear: true,
                    yearRange: "1920:2017",
                    autoclose: true
                })
                var dat = new Date();
                var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
                var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
                var today = day + "-" + month + "-" + dat.getFullYear();
                $(".regdate").val(today);
           // }
        }
        if(RegistrationType =="Legacy1")
        {
            $(".regdate").datepicker({
                dateFormat: "dd-mm-yy",
                changeYear: true,
                yearRange: "1920:2017",
                autoclose: true,
                maxDate: new Date(2017, 02, 31)
            })
            var dat = new Date();
            var today = "31-03-2017";
            $(".regdate").val(today);
        }
        if(RegistrationType =="Legacy2")
        {
            $(".regdate").datepicker({
                dateFormat: "dd-mm-yy",
                changeYear: true,
                autoclose: true,
                minDate: new Date(2017, 03, 01),
                maxDate: new Date()
            })
            var dat = new Date();
            var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
            var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
            var today = day + "-" + month + "-" + dat.getFullYear();
            $(".regdate").val(today);
        }
    }
    //Dept
    $(".UWrk").change(function(){
        var gettype = $("input[name='Uworker']:checked").val();
         
        if(gettype =="No")
        {
            window.top.location.href = "/Home/DeptDashboard";
        }
    });
    $("#ddlfrstname").change(function(){
         
        var DDLFirstname = $('#ddlfrstname').val();
        if(DDLFirstname == "Mr.")
        {
            $('#gndrfemale').hide();
            $('#lblfemale').hide();
        }
        else
        {
            $('#gndrfemale').show();
            $('#lblfemale').show();
        }
        if(DDLFirstname == "Ms." || DDLFirstname == "Mrs.")
        {
            $('#gndrmale').hide();
            $('#lblmale').hide();
        }
        else
        {
            $('#gndrmale').show();
            $('#lblmale').show();
        }
    });
    $('.bengender').change(function() {
         
        var Gender = $("input[name='bengender']:checked").val()
        var Marst =  $('#maritalid').val();
        $("#maritalid").val(0)
        $("#HusbandName").attr("readonly", "readonly");
        var salutation = $('#ddlfrstname').val();
        if(Gender =="Female")
        {
             
            if(salutation =="Mr.")
            {
                alert("Invalid Gender");
                $("#gndrfemale").focus();
                return false;
            }
        }
        if(Gender =="Male")
        {
            if(salutation == "Ms." || salutation =="Mrs.")
            {
                alert("Invalid Gender");
                $("#gndrmale").focus();
                return false;
            }
        }
        if(Gender =="Female" && Marst =="2" || Gender =="Female" && Marst =="5")
        {
            $("#HusbandName").removeAttr("readonly");
            $("#HusbandName").focus();
        }
        else
        {
            $("#HusbandName").attr("readonly", "readonly");
            $("#HusbandName").val("");
        }
        if(Gender =="Female" && Marst =="5")
        {
            $("#ddlhusname").Show('Late');
            $("#HusbandName").removeAttr("readonly");
        }
        if(Marst !="5")
        {
            $("#ddlhusname option:contains(Late)").remove();
        }
    })
    $('#maritalid').change(function() {
        var Gender = $("input[name='bengender']:checked").val()
        var Marst =  $('#maritalid').val();
        if(Gender =="Female" && Marst =="2")
        {
            $("#HusbandName").removeAttr("readonly");
            $("#HusbandName").focus();
        }
        else
        {
            $("#HusbandName").attr("readonly", "readonly");
            $("#HusbandName").val("");
        }
        if(Gender =="Female" && Marst =="5")
        {
            $("#ddlhusname").append('<option value=Late>Late</option>');
            $("#ddlhusname option:contains(Mr.)").remove();
            $("#HusbandName").removeAttr("readonly");
        }
        if(Marst !="5")
        {
            $("#ddlhusname option:contains(Late)").remove();
            $("#ddlhusname option:contains(Mr.)").remove();
            $("#ddlhusname").append('<option value=Mr.>Mr.</option>');
        }
        //Change srikar
        if(Gender =="Female" && Marst =="2" || Gender =="Female" && Marst =="5")
        {
            alert("Husband Name is mandatory");
            $("#HusbandName").focus();
        }
    });
    $('.bplst').change(function() {
        var BplStatus = $("input[name='bplstatus']:checked").val()
        if(BplStatus =="1"){
            $("#bplys").show();
            $("#bplno").focus();
            $("#bplno").removeAttr("readonly");
        }
        if(BplStatus =="0"){
            $("#bplno").attr("readonly", "readonly");
            $("#bplno").val('');
        }
    });
    //Change Event
    $('.pfesilst').change(function() {
         
        var PfEsiDet = $("input[name='pfesidet']:checked").val()
        if(PfEsiDet == "PF")
        {
            $("#esinum").removeAttr("readonly");
            $("#esinum").focus();
            $("#divPFOpt").hide();
        }
        else
        {
            $("#esinum").attr("readonly", "readonly");
            $("#esinum").val('');
            $("#esi").focus();
            $("#divPFOpt").show();
        }
    })
    $('.clschkesi').change(function() {
         
        var EsiDet = $("input[name='esidet']:checked").val()
        var pfval = $("input[name='pfesidet']:checked").val()
        if(EsiDet == "ESI")
        {
            $("#esi").removeAttr("readonly");
            $("#esi").val('');
            $("#esi").focus();
            $("#divPFOpt").hide();
            if(pfval == undefined)
            {
                $("#divPFOpt").show();
            }
        }
        else
        {
            $("#esi").attr("readonly", "readonly");
            $("#esi").val('');
            $("#divPFOpt").show();
            if(pfval == "PF")
            {
                $("#divPFOpt").hide();
            }
        }
    })
    function checkpf()
    {
        // $('#esinum').change(function() {
        //    alert("fdsfsdf");
        var esinum = $("#esinum").val();
        var checkPfEsiDet = $("input[name='pfesidet']:checked").val()
        if((checkPfEsiDet == undefined) && (esinum == "" || esinum == null))
        {
            $("#divPFOpt").show();
        }
        else
        {
            $("#divPFOpt").hide();
        }
        // });
    }
    $('.workerdet').change(function() {
         
        var validPFSta = $("input[name='pfsta']:checked").val()
        var WorkerStatus = $("input[name='Workertype']:checked").val()
        var esino  = $('#esi').val();
        $('.Wortype').attr('checked', false);
        if(WorkerStatus == "Others")
        {
        }
        if(WorkerStatus !="Others")
        {
            $(".Wortype").attr("disabled", true);
            $("#selfid").attr("disabled", true);
            $("#divemp").hide();
            $('#unorgid').val('0');
            $("#unorgid").attr("disabled", true);
            $('#selfid').val('0');
            $('#occu').val('');
            $('#selfemp').val('');
            $("#occu").attr("disabled", true);
            $("#selfemp").attr("disabled", true);
            $("#occu").removeAttr("readonly");
            $("#selfemp").removeAttr("readonly");
        }
        else
        {
            $(".Wortype").attr("disabled", false);
            $("#divemp").show();
        }
        $("#Occupation").val(WorkerStatus);
    });
    $('#selfid').change(function() {
        $("#selfemp").val($("#selfid option:selected").text());
        $("#SelfEmpNo").val($("#selfid").val());
        $("#occu").removeAttr("readonly");
        $("#selfemp").removeAttr("readonly");
        $('#unorgid').val('');
        $('#occu').val('');
    });
    $('#unorgid').change(function() {
        $("#occu").val($("#unorgid option:selected").text());
        $("#SelfEmpNo").val($("#unorgid").val());
        $('#selfid').val('');
        $('#selfemp').val('');
        $("#occu").removeAttr("readonly");
        $("#selfemp").removeAttr("readonly");
    });
    $('#brnch').change(function() {
        var ifsc =$("#brnch").val();
        var res = ifsc.split("-");
        $.get('@Url.Action("GetbranchAddrJSON", "Registration")', {ID :res[1]}, function (dat) {
            $("#branchaddress").val(dat);
        });
        var res = ifsc.split("-");
    });
    $("#ifsccode").keypress(function() {
        var ifscval = $(this).val();
        if(ifscval.length == 4)
        {
            $(this).val(ifscval+"0");
            return false;
        }
    });
    $('#perPOid').change(function() {
        var pincode =$("#perPOid").val();
        var res = pincode.split("-");
        $("#pincode").val(res[0]);
    });
    $('#preaddPO').change(function() {
        var pincode =$("#preaddPO").val();
        var res = pincode.split("-");
        $("#pincode2").val(res[0]);
    });
    //Dependent Change
    $('.depenlst').change(function() {
        var DependentStatus = $("input[name='dependentdet']:checked").val();
        if(DependentStatus =="Yes")
        {
            $(".tblfamily").show();
            $(".btndepen").show();
        }
        if(DependentStatus =="No")
        {
            $(".tblfamily").hide();
            $(".btndepen").hide();
        }
    });
    //Nominee Change
    $('.nomineelst').change(function() {
        var nomineedet = $("input[name='nomineedet']:checked").val();
        if(nomineedet =="Yes")
        {
            $(".tblNaminee").show();
            $(".btnnom").show();
        }
        if(nomineedet =="No")
        {
            $(".tblNaminee").hide();
            $(".btnnom").hide();
        }
    });
    $('.formlst').change(function() {
        var FormStatus = $("input[name='formstatus']:checked").val()
        if(FormStatus == "Yes"){
            $("#Benform").show();
            $("#issueauth").focus();
            $("#issueauth").attr("disabled", false);
            $("#issueauth").removeAttr("readonly");
            $("#authloc").removeAttr("readonly");
            $("#authname").removeAttr("readonly");
        }
        else
        {
            $("#Benform").hide();
            $("#issueauth") .attr("disabled", true);
            $("#authloc").attr("readonly", "readonly");
            $("#authname").attr("readonly", "readonly");
            alert("If you don't provide Form 1 details,Further Registration is not Processed");
        }
    });
    //Based on permanant address,getting present details
    $('#presauto').change(function() {
        var res = $(this).is(':checked');
        if(res ==true)
        {
             
            $("#state2").val($("#state").val());
            $("#PreAddrdistid").val($("#perdistid").val());
            $("#PreAddrdistid").attr("readonly", "readonly");
            $("#PreAddrdistid").attr("disabled", true);
            $("#preAddrsubdiv").val($("#persubdivid").val());
            $("#preAddrsubdiv").attr("readonly", "readonly");
            $("#preAddrsubdiv").attr("disabled", true);
            $("#preaddBMC").val($("#peraddBMC").val());
            $("#preaddBMC").attr("readonly", "readonly");
            $("#preaddBMC").attr("disabled", true);
            $("#preaddBlock").val($("#peraddblock").val());
            $("#preaddBlock").attr("readonly", "readonly");
            $("#preaddBlock").attr("disabled", true);
            $("#preaddPS").val($("#perpsid").val());
            $("#preaddPS").attr("readonly", "readonly");
            $("#preaddPS").attr("disabled", true);
            $("#preaddPO").val($("#perPOid").val());
            $("#preaddPO").attr("readonly", "readonly");
            $("#preaddPO").attr("disabled", true);
            $("#pincode2").val($("#pincode").val());
            $("#pincode2").attr("readonly", "readonly");
            var selward =   $("#ward option:selected").text();
            if(selward == "-- Select GP --")
            {
                $("#ward2 option:contains(All Wards)").remove();
                $("#ward2").val($("#ward").val());
            }
            else
            {
                $("#ward2 option[value ='0']").remove();
                $("#ward2").append('<option value=0>All Wards</option>');
                $("#ward2").val($("#ward").val());
            }
            $("#ward2").attr("readonly", "readonly");
            $("#ward2").attr("disabled", true);
            $("#vlge2").val($("#vlge1").val());
            $("#vlge2").attr("readonly", "readonly");
        }
        else
        {
            $("#PreAddrdistid").val("0");
            $("#PreAddrdistid").removeAttr("readonly");
            $("#PreAddrdistid").attr("disabled", false);
            $("#preAddrsubdiv").val("0");
            $("#preAddrsubdiv").removeAttr("readonly");
            $("#preAddrsubdiv").attr("disabled", false);
            $("#preaddBMC").val("0");
            $("#preaddBMC").removeAttr("readonly");
            $("#preaddBMC").attr("disabled", false);
            $("#preaddBlock").val("0");
            $("#preaddBlock").removeAttr("readonly");
            $("#preaddBlock").attr("disabled", false);
            $("#preaddPS").val("0");
            $("#preaddPS").removeAttr("readonly");
            $("#preaddPS").attr("disabled", false);
            $("#preaddPO").val("0");
            $("#preaddPO").removeAttr("readonly");
            $("#preaddPO").attr("disabled", false);
            $("#pincode2").val("");
            $("#pincode2").removeAttr("readonly");
            $("#ward2 option[value ='0']").remove();
            // $("#ward2").find("option").remove();
            $("#ward2").append('<option value=0>-- Select GP --</option>');
            $("#ward2").val("0");
            $("#ward2").removeAttr("readonly");
            $("#ward2").attr("disabled", false);
            $("#vlge2").val("");
            $("#vlge2").removeAttr("readonly");
        }
    });
    $("#ddlday").change(getage);
    $("#ddlmnth").change(getage);
    $("#ddlyr").change(getage);
    function getage(){
         
        //change 24/08/2017
        if($("#ddlyr").val() == "0" && $("#ddlmnth").val() == "0" && $("#ddlday").val() == "0")
        {
            $("#age").val("");
        }
        if( $("#ddlday").val() != "0")
        {
            if($("#ddlyr").val() != "0" && $("#ddlmnth").val() != "0" && $("#ddlday").val() != "0")
            {
                var getage = calculateAge($("#ddlyr").val()+"-"+$("#ddlmnth").val()+"-"+$("#ddlday").val());
                $("#age").val(getage);
            }
        }
    }
    $("#ddlcards").change(LoadNumber);
    function LoadNumber() {
        $("#cards").val("");
        $("#cards").focus();
        //Aadhaar
        if( $("#ddlcards").val()=="1")
        {
            $("#cards").attr('maxlength','12');
            $("#cards").attr('onkeydown','return IsNumericOnly(event)');
        }
        //Epic
        if( $("#ddlcards").val()=="2")
        {
            $("#cards").attr('maxlength','15');
            $("#cards").attr('onkeydown','return IsAlphaNumaric(event)');
        }
        if( $("#ddlcards").val()=="3")
        {
            $("#cards").attr('maxlength','20');
            $("#cards").attr('onkeydown','return IsAlphaNumaric(event)');
        }
    };
    function DisSub()
    {
        var getuw = $("input[name='Uworker']:checked").val()
        if (getuw == undefined) {
            alert("Please Select Unorganized Worker Status");
            return false;
        }
        var res = $("#enrolledsamajik").is(':checked');
        if (res == false) {
            alert("Please click on the checkbox");
            $("#enrolledsamajik").focus();
            return false;
        }
         
        $('#step0').removeClass('active');
        $('#step1').removeClass('active');
        $('#step2').addClass('active');
        $('#disfrst').removeClass('active');
        $('#disstep').removeClass('active');
        $('#benistep').addClass('active');
        $('#step1').hide();
    }
    $("#regreset").click(function(){
        $("#selfid").val("0");
        $("#unorgid").val("0");
    });
    //For Reset
    function ClearAll()
    {
        alert("");
         
        $(':input', '#benefiary','#disclamair').val('').removeAttr('checked').removeAttr('selected');
    }
    //For Adding new row to Dependant
    function AddFamilyRow()
    {
         
        var rowCount = $('.tblfamily tr').length;
        if(rowCount > 6)
        {
            alert("maximum row limit is 6");
            return false;
        }
        else
        {
            $('.tblfamily').append('<tr><td><input id="FamSno'+rowCount+'" class="form-control" type="text" name="FamSno" value="'+(rowCount)+'" style="width:39px; text-transform:uppercase" readonly="readonly"></td><td><input id="FamWRU'+rowCount+'" class="form-control" type="text" name="FamWRU" maxlength = 15 onkeypress = "return IsAlphaNumaric(event)" style= "text-transform:uppercase"></td><td><input id="FamDept'+rowCount+'" class="form-control" type="text" name="FamDept" maxlength = 25 onkeypress = "return onlyAlphabets(event,this)"></td><td><select id="DDLFamRel'+rowCount+'" class="form-control" name="DDLFamRel"><option value="Father">Father</option><option value="Mother">Mother</option><option value="Spouse">Spouse</option><option value="Son">Son</option><option value="Daughter">Daughter</option></select></td><td><select id="DDLFamGender'+rowCount+'" class="form-control" name="DDLGender" style="width: 98px;"><option value="Male">Male</option><option value="Female">Female</option></select></td><td><input id="FamDob'+rowCount+'"" type="text" class="form-control notranslate FamDob" name="Dob"  style="width:130px;"></td><td><input id="FamAge'+rowCount+'" type="text" class="form-control" name="FamAge" onkeypress = "return onlynumber(event,this)" maxlength = 3 readonly="readonly"></td><td><input id="AdhNoFam'+rowCount+'" type="text" class="form-control" name="AdhNoFam" maxlength = 12, onkeypress = "return onlynumber(event,this)"></td><td><input id="schpassbk'+rowCount+'" type="file" class="form-control" name="files['+(rowCount+6)+']"></td><td><button type="button"   class="removefambutton" title="Remove this row">X</button></td><td style="display:none;"><label id="lblschemechk'+rowCount+'">0</label></td></tr>')
            $("#FamDob"+rowCount).datepicker({
                dateFormat: "dd-mm-yy",
                changeYear: true,
                yearRange: "1920:2017",
                autoclose: true,
                maxDate: new Date()
            })
            var dat = new Date();
            var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
            var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
            var today = day + "-" + month + "-" + dat.getFullYear();
            $("#FamDob"+rowCount).val(today);
            //Srikar test
            onlynumber
                var dob = $("#FamDob"+rowCount).val();
                var dateAr = dob.split('-');
                var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
                var age = calculateAge(dateofbirth);
                $("#FamAge"+rowCount).val(age)
            });
            //Check FamRelation
            $('body').on('change', '#DDLFamRel'+rowCount, function () {
                var Checkfamrel =  $("#DDLFamRel"+rowCount).val();
                for (i = 1; i < rowCount; i++)
                {
                    var rel =  $("#DDLFamRel"+rowCount).val();
                    if(rel == "Father" || rel == "Mother"|| rel =="Spouse" )
                    {
                        if(Checkfamrel == rel )
                        {
                            alert("Invalid Relation");
                            return false;
                        }
                    }
                }
            });
            $('body').on('change', '#DDLFamGender'+rowCount, function () {
                var famrel =  $("#DDLFamRel"+rowCount).val();
                var famgen =  $("#DDLFamGender"+rowCount).val();
                if(famgen =="Male")
                {
                    if(famrel == "Mother" ||famrel == "Daughter")
                    {
                        alert("Invalid Gender");
                        return false;
                    }
                }
                if(famgen =="Female")
                {
                    if(famrel == "Father" ||famrel == "Son")
                    {
                        alert("Invalid Gender");
                        return false;
                    }
                }
            });
            $('body').on('change', '#FamWRU'+rowCount, function () {
                $('#lblschemechk'+rowCount).text("0");
                if($("#FamWRU"+rowCount).val() !="")
                {
                    $.get('@Url.Action("GetBenDetails", "Agent")', { id: $("#FamWRU"+rowCount).val()}, function (dat) {
                        if(dat == "")
                        {
                            alert("No Data Found, Please Enter Data Manually.");
                            $('#lblschemechk'+rowCount).text("0");
                            return false;
                        }
                        $('#lblschemechk'+rowCount).text("1");
                        $('#FamDept'+rowCount).val(dat.BenFirstName +' '+ dat.BenMiddleName +' '+ dat.BenLastName);
                        $('#DDLFamGender'+rowCount).val(dat.BenGender);
                        $('#FamDob'+rowCount).val(dat.BenDob);
                        $("#FamAge" +rowCount).val(dat.BenAge);
                        $("#AdhNoFam"+rowCount).val(dat.AadharCard);
                        $("#schpassbk"+rowCount).show();
                    });
                }

            });
        }
    }
    //For Adding new row to Nominee
    function NamineeAdd()
    {
         
        var rowCount = $('.tblNaminee tr').length;
        var shreallocationrange = "0";
        for (i = 1;i < rowCount; i++)
        {
            shreallocationrange =  parseInt((shreallocationrange),10)+parseInt(($("#SahreAlo"+i).val()),10);
        }
        if(shreallocationrange >= 100)
        {
            alert("Share Allocation Already 100%");
            return false;
        }
        if(rowCount > 3)
        {
            alert("Maximum limit is 3");
            return false;
        }
        else
        {
            $('.tblNaminee').append('<tr><td><input id="NamiSno'+rowCount+'" type="text"  class="form-control" name="FamSno" value="'+(rowCount)+'" style="width:39px;" readonly="readonly"></td><td><input id="NamiName'+rowCount+'" type="text"  class="form-control" name="NamiName" style="width:112px;" onkeypress = "return onlyAlphabets(event,this)"></td><td><select id="DDLNamRel'+rowCount+'"  class="form-control" name="DDLNamRel" style="width: 92px;"><option value="Father">Father</option><option value="Mother">Mother</option><option value="Spouse">Spouse</option><option value="Son">Son</option><option value="Daughter">Daughter</option><option value="Others">Others</option></select></td><td><select id="DDLNamGender'+rowCount+'" class="form-control"  name="DDLGender" style="width: 92px;"><option value="Male">Male</option><option value="Female">Female</option></select></td><td><input id="namdob'+rowCount+'" type="text" name="namdob" class="form-control notranslate namdob"  style="width:130px;"></td><td><input id="NamAge'+rowCount+'"  class="form-control" type="text" name="NamAge" style="width:39px;" onkeypress = "return onlynumber(event,this)" maxlength = 3 readonly="readonly"></td> <td><input id="SahreAlo'+rowCount+'"  class="form-control" type="text" name="SahreAlo" onkeypress = "return onlynumber(event,this)" maxlength = 3></td><td><input id="Bankname'+rowCount+'"   class="form-control" type="text" name="Bankname"  maxlength = 16 onkeypress = "return onlyAlphabets(event,this)"></td><td><input id="BankActNo'+rowCount+'"   class="form-control" type="text" name="BankActNo"  maxlength = 16 onkeypress = "return onlynumber(event,this)"></td><td><input id="BranchName'+rowCount+'"   class="form-control" type="text" name="BranchName" style="width:100px;" maxlength = 25 onkeypress = "return onlyAlphabets(event,this)"></td><td><input id="NamIfscCode'+rowCount+'" type="text"  class="form-control" name="NamIfscCode" style="width:85px;text-transform:uppercase" maxlength = 11 onkeypress = "return IsAlphaNumaric(event)" ></td><td><button type="button"  class="removenambutton" title="Remove this row">X</button></td></tr>')
            $("#namdob"+rowCount).datepicker({
                dateFormat: "dd-mm-yy",
                changeYear: true,
                yearRange: "1960:2017",
                autoclose: true,
                maxDate: new Date()
            })
            var dat = new Date();
            var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
            var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
            var today = day + "-" + month + "-" + dat.getFullYear();
            $("#namdob"+rowCount).val(today);
            $('body').on('change', '#namdob'+rowCount, function () {
                var dob = $("#namdob"+rowCount).val();
                var dateAr = dob.split('-');
                var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
                var age = calculateAge(dateofbirth);
                $("#NamAge"+rowCount).val(age)
            });
            $('body').on('change', '#SahreAlo'+rowCount, function () {
                Changevalue();
            });
            //Check NamRelation
            $('body').on('change', '#DDLNamRel'+rowCount, function () {
                var Checknamrel =  $("#DDLNamRel"+rowCount).val();
                for (i = 1; i < rowCount; i++)
                {
                    var rel =  $("#DDLNamRel"+rowCount).val();
                    if(rel == "Father" || rel == "Mother"|| rel =="Spouse" )
                    {
                        if(Checknamrel == rel )
                        {
                            alert("Invalid Relation");
                            return false;
                        }
                    }
                }
            });
            $('body').on('change', '#DDLNamGender'+rowCount, function () {
                var namrel =  $("#DDLNamRel"+rowCount).val();
                var namgen =  $("#DDLNamGender"+rowCount).val();
                if(namgen =="Male")
                {
                    if(namrel == "Mother" ||namrel == "Daughter")
                    {
                        alert("Invalid Gender");
                        return false;
                    }
                }
                if(namgen =="Female")
                {
                    if(namrel == "Father" ||namrel == "Son")
                    {
                        alert("Invalid Gender");
                        return false;
                    }
                }
            });
            $('body').on('keypress', '#NamIfscCode'+rowCount, function () {
                var ifscnomval = $(this).val();
                if(ifscnomval.length == 4)
                {
                    $(this).val(ifscnomval+"0");
                    return false;
                }
            });
            $('body').on('change', '#BankActNo'+rowCount, function ()
            {
                var txtlength = $(this).val();
                 
                if(txtlength.length > 16 || txtlength.length < 9)
                {
                    alert("Invalid Bank Account Number");
                    $(this).focus().val('');
                    return false;
                }
            })
        }
    }
    // Validating Email
    function validateEmail() {
        var expr = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (!expr.test($("#email").val())) {
            alert("Invalid email address.");
            $("#email").focus();
            return false;
        }
    }
    function onlynumber(e, t) {
        if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
            //display error message
            return false;
        }
    }
    function onlyAlphabets(e, t) {
        // ;
        try {
            if (window.event) {
                var charCode = window.event.keyCode;
            }
            else if (e) {
                var charCode = e.which;
            }
            else { return true; }
            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || (charCode == 46) || (charCode == 32))
                return true;
            else
                return false;
        }
        catch (err) {
            alert(err.Description);
        }
    }
    function onlyAlphabetswithoutspaces(e, t) {
        // ;
        try {
            if (window.event) {
                var charCode = window.event.keyCode;
            }
            else if (e) {
                var charCode = e.which;
            }
            else { return true; }
            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || (charCode == 46))
                return true;
            else
                return false;
        }
        catch (err) {
            alert(err.Description);
        }
    }
    function IsNumericOnly(e) {
        var value = $(e.target).val();
        var n = value.indexOf(".");
        if (n > 0) {
            if ((e.keyCode == 65) || (e.keyCode == 66) || (e.keyCode >= 68 && e.keyCode <= 85) || e.keyCode == 89 || e.keyCode == 87 || e.keyCode == 90 || (e.keyCode == 86 && e.ctrlKey == false) || (e.keyCode == 67 && e.ctrlKey == false) || (e.keyCode == 88 && e.ctrlKey == false) || e.keyCode == 187 || (e.keyCode == 189 && e.shiftKey == true) || e.keyCode == 190 || e.keyCode == 191 || e.keyCode == 107 || e.keyCode == 109 || e.keyCode == 111 || e.keyCode == 189 || e.keyCode == 110 || e.keyCode == 186 || e.keyCode == 188 || (e.keyCode == 61 && e.shiftKey == false) || (e.keyCode == 173 && e.shiftKey == true) || e.keyCode == 192 || (e.keyCode == 191 && e.shiftKey == true) || (e.keyCode >= 219 && e.keyCode <= 222) || e.keyCode == 106 || e.keyCode == 59 || (e.keyCode >= 48 && e.keyCode <= 57 && e.shiftKey == true))
                return false;
        } else {
            if ((e.keyCode == 65) || (e.keyCode == 66) || (e.keyCode >= 68 && e.keyCode <= 85) || e.keyCode == 89 || e.keyCode == 87 || e.keyCode == 90 || (e.keyCode == 86 && e.ctrlKey == false) || (e.keyCode == 67 && e.ctrlKey == false) || (e.keyCode == 88 && e.ctrlKey == false) || e.keyCode == 187 || (e.keyCode == 189 && e.shiftKey == true) || (e.keyCode == 190 && e.shiftKey == true) || e.keyCode == 191 || e.keyCode == 107 || e.keyCode == 109 || e.keyCode == 111 || e.keyCode == 189 || e.keyCode == 186 || e.keyCode == 188 || (e.keyCode == 61 && e.shiftKey == false) || (e.keyCode == 173 && e.shiftKey == true) || e.keyCode == 192 || (e.keyCode == 191 && e.shiftKey == true) || (e.keyCode >= 219 && e.keyCode <= 222) || e.keyCode == 106 || e.keyCode == 59 || (e.keyCode >= 48 && e.keyCode <= 57 && e.shiftKey == true))
                return false;
        }
    }
    function IsAlphaNumaric(e) {

        if ((e.keyCode >= 186 && e.keyCode <= 188) || (e.keyCode == 190) || e.keyCode == 191 ||
    e.keyCode == 192 || e.keyCode == 109 || (e.keyCode >= 219 && e.keyCode <= 222) || (e.keyCode >= 110 && e.keyCode <= 111) ||
    (e.keyCode >= 106 && e.keyCode <= 107) || e.keyCode == 59 || e.keyCode == 189 || e.keyCode == 61 || e.keyCode == 173 ||
    ((e.keyCode >= 48 && e.keyCode <= 57)  && e.shiftKey == true)) {
            return false;
        }
    }
    function IsAlphaNumaricWithSpecialCharecter(e) {

        if ((e.keyCode >= 186 && e.keyCode <= 188) || (e.keyCode == 190)  ||
    e.keyCode == 192 || e.keyCode == 109 || (e.keyCode >= 219 && e.keyCode <= 222) || (e.keyCode >= 110 && e.keyCode <= 111) ||
    (e.keyCode >= 106 && e.keyCode <= 107) || e.keyCode == 59 || e.keyCode == 189 || e.keyCode == 61 || e.keyCode == 173 ||
    ((e.keyCode >= 48 && e.keyCode <= 57)  && e.shiftKey == true)) {
            return false;
        }
    }
    function IsAplhanumericwithHypenandSlash(e){
        var keyCode = event.keyCode || event.which
        var regex = new RegExp("^[a-zA-Z0-9\-/\]+$");
        var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
        // alert(regex +" "+key);
        if (!regex.test(key)) {
            event.preventDefault();
            return false;
        }
    }
    //Last
    function BenDetSubmit()
    {
        if(RegistrationType =="Yes" ||RegistrationType =="Legacy1" ||RegistrationType =="Legacy2" )
        {
            var RegNo  = $("#registrationno").val();
            var Regdate  = $("#Regdate").val();
            if(RegNo !="" || RegNo !=null)
            {
                Checkuniquenumber()
            }
            if(RegNo =="" || RegNo == null)
            {
                alert("Please Enter Registration No");
                $("#registrationno").focus();
                return false;
            }
            if(Regdate =="" || Regdate == null)
            {
                alert("Please Select Registration Date");
                $("#Regdate").focus();
                return false;
            }
        }

        if ($("#FirstName").val() == "" || $("#FirstName").val() == null) {
            alert("Please Enter First Name");
            $("#FirstName").focus();
            return false;
        }
        if ($("#lstname").val() == "" || $("#lstname").val() == null) {
            alert("Please Enter Last Name");
            $("#lstname").focus();
            return false;
        }
        var Gender1 = $("input[name='bengender']:checked").val()
        var Maritalsta = $("#maritalid").val();
        //2 -- Married ,// 5 -- Widow
        if(Gender1 == "Female")
        {
            if(Maritalsta != "2" && Maritalsta != "5")
            {
                if ($("#ddlfathrsname").val() == "" || $("#ddlfathrsname").val() == null || $("#ddlfathrsname").val() == "0") {
                    alert("Please Select Salutation");
                    $("#ddlfathrsname").focus();
                    return false;
                }
                if ($("#FatherName").val() == "" || $("#FatherName").val() == null) {
                    alert("Please Enter Father Name");
                    $("#FatherName").focus();
                    return false;
                }
            }
        }
        else
        {
            if ($("#ddlfathrsname").val() == "" || $("#ddlfathrsname").val() == null || $("#ddlfathrsname").val() == "0") {
                alert("Please Select Salutation");
                $("#ddlfathrsname").focus();
                return false;
            }
            if ($("#FatherName").val() == "" || $("#FatherName").val() == null) {
                alert("Please Enter Father Name");
                $("#FatherName").focus();
                return false;
            }
        }

        if ($("#MotherName").val().trim() == "" || $("#MotherName").val() == null) {
            alert("Please Enter Mother Name");
            $("#MotherName").focus();
            $("#MotherName").val("");
            return false;
        }
        if ($("#ddlyr").val() == "" || $("#ddlyr").val() == null || $("#ddlyr").val() == "0") {
            alert("Please Select Year");
            $("#ddlyr").focus();
            return false;
        }
        if ($("#ddlmnth").val() == "" || $("#ddlmnth").val() == null || $("#ddlmnth").val() == "0") {
            alert("Please Select Month");
            $("#ddlmnth").focus();
            return false;
        }
        if ($("#ddlday").val() == "" || $("#ddlday").val() == null || $("#ddlday").val() == "0") {
            alert("Please Select Day");
            $("#ddlday").focus();
            return false;
        }
        if ($("#age").val() == "" || $("#age").val() == null) {
            alert("Age should not be empty,Please provide correct Date of Birth");
            $("#age").focus();
            return false;
        }
        var age = $("#age").val();
        var agecal = parseInt(age);
 if(RegistrationType != "Legacy1")
        {
        if(agecal > 60 || agecal < 18)
        {
            alert("Age Limit should be 18 to 60 ");
            $("#age").focus();
            return false;
        }
}
        var Gender = $("input[name='bengender']:checked").val()
        if(Gender == undefined){
            alert("Please Select Gender");
            $(".bengender").focus();
            return false;
        }
        var salutation = $('#ddlfrstname').val();
        if(Gender =="Female")
        {
             
            if(salutation =="Mr.")
            {
                alert("Invalid Gender");
                $("#gndrfemale").focus();
                return false;
            }
        }
        if(Gender =="Male")
        {
            if(salutation == "Ms." || salutation =="Mrs.")
            {
                alert("Invalid Gender");
                $("#gndrmale").focus();
                return false;
            }
        }
        if ($("#maritalid").val() == "" || $("#maritalid").val() == null || $("#maritalid").val() == "0") {
            alert("Please Select Marital Status");
            $("#maritalid").focus();
            return false;
        }
        var Marst =  $('#maritalid').val();
        if(Gender =="Female" && Marst =="2" || Gender =="Female" && Marst =="5")
        {
            //change
            if($("#HusbandName").val().trim() == "" ||$("#HusbandName").val() == null)
            {
                alert("Please Enter Husband Name");
                $("#HusbandName").focus();
                return false;
            }
        }
        if ($("#relgid").val() == "" || $("#relgid").val() == null || $("#relgid").val() == "0") {
            alert("Please Select Religion");
            $("#relgid").focus();
            return false;
        }
        if ($("#socatid").val() == "" || $("#socatid").val() == null || $("#socatid").val() == "0") {
            alert("Please Select Social Category");
            $("#socatid").focus();
            return false;
        }
        //Bpl Field
        var validBplStatus = $("input[name='bplstatus']:checked").val()
        if(validBplStatus =="1"){
            if ($("#bplno").val() == "" || $("#bplno").val() == null) {
                alert("Please Enter BPL No");
                $("#bplno").focus();
                return false;
            }
        }
        if ( $('#mobno').val().length != 10) {
            alert("Please Enter Valid Mobile Number");
            $("#mobno").focus();
            return false;
        }
        if ($("#mobno").val() == "" || $("#mobno").val() == null) {
            alert("Please Enter Mobile Number");
            $("#mobno").focus();
            return false;
        }
        // BenDetSubmit()
        //Change 4
        var res = $("#IdAadharYN").is(':checked');
        if (res == false) {
            var Aadharcard = $("#Aadharcard").val();
            if(Aadharcard =="" ||Aadharcard == null)
            {
                alert("Please Enter Aadhaar Card Number");
                $("#Aadharcard").focus()
                return false;
            }
            if(Aadharcard.length != 12)
            {
                alert("Please Enter 12 digits correct Aadhaar Card Number");
                $("#Aadharcard").focus();
                return false;
            }
            if ($("#Aadharcardprof").val() == "" || $("#Aadharcardprof").val() == null || $("#Aadharcardprof").val() == 0) {
                alert("Please Choose Aadhar Card");
                $("#Aadharcardprof").focus();
                return false;
            }
        }
        if (res == true) {
            var EpicCard = $("#epiccard").val();
            if(EpicCard =="" ||EpicCard == null)
            {
                alert("Please Enter Epic Card Number");
                $("#epiccard").focus()
                return false;
            }
            if( EpicCard.length > 16 || EpicCard.length < 5)
            {
                alert("Please enter correct Epic Card Number");
                $("#epiccard").focus();
                return false;
            }
            if ($("#Idproof").val() == "" || $("#Idproof").val() == null || $("#Idproof").val() == 0) {
                alert("Please Choose ID proof");
                $("#Idproof").focus();
                return false;
            }
        }
        // Change Request Double entry of Bank A/c in SSY portal 05042018
        //var BankAccNo = $("#BankAccNo").val();
        //if(BankAccNo =="" ||BankAccNo == null)
        //{
        //    alert("Please Enter Bank Account Number");
        //    $("#BankAccNo").focus();
        //    return false;
        //}
        //if(BankAccNo.length > 16 || BankAccNo.length < 9)
        //{
        //    alert("Please Enter correct Bank Account Number");
        //    $("#BankAccNo").focus();
        //    return false;
        //}

        if ($("#bankdistid").val() == "" || $("#bankdistid").val() == null || $("#bankdistid").val() == 0) {
            alert("Please Select Bank District");
            $("#bankdistid").focus();
            return false;
        }
        if ($("#bank").val() == "" || $("#bank").val() == null || $("#bank").val() == 0) {
            alert("Please Select Bank Name");
            $("#bank").focus();
            return false;
        }
        var BankActnumber = $("#actnumber").val();
        if(BankActnumber =="" ||BankActnumber == null)
        {
            alert("Please Enter Bank Account Number");
            ("#actnumber").focus()
            return false;
        }
        if(BankActnumber.length > 16 || BankActnumber.length < 9)
        {
            alert("Please Enter correct Bank Account Number");
            $("#actnumber").focus();
            $("#actnumber").val('');
            return false;
        }
        if ($("#loc").val() == "" || $("#loc").val() == null || $("#loc").val() == 0) {
            alert("Please Select Location");
            $("#loc").focus();
            return false;
        }
        if ($("#brnch").val() == "" || $("#brnch").val() == null || $("#brnch").val() == 0) {
            alert("Please Select Branch");
            $("#brnch").focus();
            return false;
        }
        if ($("#txtreason").val() == "" || $("#txtreason").val() == null) {
            if ($("#ifsccode").val() == "")
            {
                alert("Please Enter IFSC Code");
                $("#ifsccode").focus();
                return false;
            }
        }


        if ($("#Bank").val() == "" || $("#Bank").val() == null || $("#Bank").val() == 0) {
            alert("Please Choose Bank Passbook");
            $("#Bank").focus();
            return false;
        }

        $("#BankLoca").val($("#loc").val());
        $("#BankDisId").val($("#bankdistid").val());


        if ($("#perdistid").val() == "" || $("#perdistid").val() == null || $("#perdistid").val() == 0) {
            alert("Please Select District");
            $("#perdistid").focus();
            return false;
        }
        if ($("#persubdivid").val() == "" || $("#persubdivid").val() == null || $("#persubdivid").val() == 0) {
            alert("Please Select Sub Division");
            $("#persubdivid").focus();
            return false;
        }
        if ($("#peraddBMC").val() == "" || $("#peraddBMC").val() == null || $("#peraddBMC").val() == 0) {
            alert("Please Select Block/Muncipality/Coorporation");
            $("#peraddBMC").focus();
            return false;
        }
        if ($("#peraddblock").val() == "" || $("#peraddblock").val() == null || $("#peraddblock").val() == 0) {
            alert("Please Select Block/Muncipality/Coorporation");
            $("#peraddblock").focus();
            return false;
        }
        if ($("#perpsid").val() == "" || $("#perpsid").val() == null ||  $("#perpsid").val() == 0) {
            alert("Please Select PS");
            $("#perpsid").focus();
            return false;
        }
        if ($("#perPOid").val() == "" || $("#perPOid").val() == null ||  $("#perPOid").val() == 0) {
            alert("Please Select PO");
            $("#perPOid").focus();
            return false;
        }
        if ($("#pincode").val() == "" || $("#pincode").val() == null) {
            alert("Please Enter Pincode");
            $("#pincode").focus();
            return false;
        }
        if ( $('#pincode').val().length != 6) {
            alert("Please Enter 6 digits Pincode number");
            $("#pincode").focus();
            return false;
        }
        var Dist1 = $("#perdistid").val();
        var Blk1 = $("#peraddBMC").val();
        if(Dist1 !=12)
        {
            if(Blk1 == 1)
            {
                if ($("#ward").val() == "" || $("#ward").val() == null ||  $("#ward").val() == 0) {
                    alert("Please Select GP");
                    $("#ward").focus();
                    return false;
                }
            }
        }
        if ($("#vlge1").val() == "" || $("#vlge1").val() == null) {
            alert("Please Enter Village/Street/Road");
            $("#vlge1").focus();
            return false;
        }
        //Present
        if ($("#PreAddrdistid").val() == "" || $("#PreAddrdistid").val() == null || $("#PreAddrdistid").val() == 0) {
            alert("Please Select District");
            $("#PreAddrdistid").focus();
            return false;
        }
        if ($("#preAddrsubdiv").val() == "" || $("#preAddrsubdiv").val() == null || $("#preAddrsubdiv").val() == 0) {
            alert("Please Select Sub Division");
            $("#preAddrsubdiv").focus();
            return false;
        }
        if ($("#preaddBMC").val() == "" || $("#preaddBMC").val() == null || $("#preaddBMC").val() == 0) {
            alert("Please Select Block/Muncipality/Coorporation");
            $("#preaddBMC").focus();
            return false;
        }
        if ($("#preaddBlock").val() == "" || $("#preaddBlock").val() == null || $("#preaddBlock").val() == 0) {
            alert("Please Select Block/Muncipality/Coorporation");
            $("#preaddBlock").focus();
            return false;
        }
        if ($("#preaddPS").val() == "" || $("#preaddPS").val() == null ||  $("#preaddPS").val() == 0) {
            alert("Please Select PS");
            $("#preaddPS").focus();
            return false;
        }
        if ($("#preaddPO").val() == "" || $("#preaddPO").val() == null ||  $("#preaddPO").val() == 0) {
            alert("Please Select PO");
            $("#preaddPO").focus();
            return false;
        }
        if ($("#pincode2").val() == "" || $("#pincode2").val() == null) {
            alert("Please Enter Pincode");
            $("#pincode2").focus();
            return false;
        }
        var Dists = $("#PreAddrdistid").val();
        var Blks = $("#preaddBMC").val();
        if(Dists !=12)
        {
            if(Blks == 1)
            {
                if ($("#ward2").val() == "" || $("#ward2").val() == null ||  $("#ward2").val() == 0) {
                    alert("Please Select GP");
                    $("#ward2").focus();
                    return false;
                }
            }
        }
        if ($("#vlge2").val() == "" || $("#vlge2").val() == null) {
            alert("Please Enter Village/Street/Road");
            $("#vlge2").focus();
            return false;
        }
         
        $('#disfrst').removeClass('active');
        $('#disstep').removeClass('active');
        $('#benistep').removeClass('active');
        $('#addstep').removeClass('active');
        $('#depstep').addClass('active');
        $('#step0').removeClass('active');
        $('#step1').removeClass('active');
        $('#step2').removeClass('active');
        $('#step4').removeClass('active');
        $('#step3').addClass('active');
        $("#FamWRU1").focus();
        //Saving Page Wise Functionality
        if(RegistrationType == "NewReg" || RegistrationType == "Legacy1" || RegistrationType == "Legacy2" )
        {
           // if(BenTempId == "")
           // {
            BenDetailSave(BenTempId)
           // }
            //else
            //{
            //    BenDetailSave()
            //}

        }
        return false;
    }
    function DepdentDet()
    {
        //Perminent address
        var adddoc  =  "Permanent" +"$";
        adddoc +=  $("#state").val()+"$";
        adddoc += $("#perdistid").val()+"$";
        adddoc +=  $("#persubdivid").val()+ "$";
        adddoc +=  $("#peraddblock").val()+ "$" ;
        adddoc +=  $("#perpsid").val()+"$";
        var po1 = $("#perPOid").val();
        var post1 =   po1.split("-");
        adddoc +=  post1[1]+"$";
        adddoc +=  $("#pincode").val()+"$";
        adddoc += $("#ward").val()+ "$";
        adddoc += $("#vlge1").val()+"$" ;
        //present address
        adddoc +=  "Present"+ "$"  ;
        adddoc += $("#state2").val()+"$" ;
        adddoc += $(".PreAddrdistid").val()+"$" ;
        adddoc += $(".preAddrsubdiv").val()+ "$";
        adddoc +=  $("#preaddBlock").val()+"$";
        adddoc +=   $("#preaddPS").val()+ "$";
        var po2 = $("#preaddPO").val();
        var post2 =   po2.split("-");
        adddoc +=  post2[1]+"$";
        adddoc +=  $("#pincode2").val()+ "$";
        adddoc += $("#ward2").val()+ "$";
        adddoc += $("#vlge2").val()+ "$";
        adddoc += $("#peraddBMC").val()+"$" ;
        adddoc += $("#preaddBMC").val()+ "$";
        $("#BenAddress").val(adddoc);
        var famrowCount = $('.tblfamily tr').length;
        var namrowCount = $('.tblNaminee tr').length;
        $("#NamCount").val(namrowCount);
        $("#FamCount").val(famrowCount);
        var doc = "";
        // Dependent change
        var DependentStatus = $("input[name='dependentdet']:checked").val();
        if(DependentStatus == undefined)
        {
            alert("Please Select Yes/No For Dependent Details");
            $("#depyes").focus();
            return false;
        }
        $("#DependentStatus").val(DependentStatus);
        var FamFatherCount = 0;
        var FamMotherCount = 0;
        var FamSpouseCount = 0;
        if(DependentStatus =="Yes")
        {
            for (i = 1;i < famrowCount; i++)
            {
                 
                //  alert($("#FamWRU"+i).val());
                if($("#FamWRU"+i).val() != "" )
                {
                    if ($("#FamWRU"+i).val().length > 20 || $("#FamWRU"+i).val().length < 10) {
                        alert("Please Enter Valid Registration No");
                        $("#FamWRU" + i).focus();
                        return false;
                    }
                }
                if($("#FamDept"+i).val() =="" ||$("#FamDept"+i).val() ==null)
                {
                    alert("Please Enter Dependent Name");
                    $("#FamDept"+i).focus();
                    return false;
                }
                var famrel =  $("#DDLFamRel"+i).val();
                if(famrel =="Father")
                    FamFatherCount = FamFatherCount + 1;
                if(famrel =="Mother")
                    FamMotherCount = FamMotherCount + 1;
                if(famrel =="Spouse")
                    FamSpouseCount = FamSpouseCount + 1;
                if(FamFatherCount > 1 ||FamMotherCount > 1 ||FamSpouseCount >1)
                {
                    alert("Invalid Relation");
                    return false;
                }
                var famgen =  $("#DDLFamGender"+i).val();
                if(famgen =="Male")
                {
                    if(famrel == "Mother" ||famrel == "Daughter")
                    {
                        alert("Invalid Gender");
                        $("#DDLFamGender"+i).focus();
                        return false;
                    }
                }
                if(famgen =="Female")
                {
                    if(famrel == "Father" ||famrel == "Son")
                    {
                        alert("Invalid Gender");
                        $("#DDLFamGender"+i).focus();
                        return false;
                    }
                }
                if($("#FamDob"+i).val() =="" ||$("#FamDob"+i).val() ==null)
                {
                    alert("Please Enter Date Of Birth");
                    $("#FamDob"+i).focus();
                    return false;
                }
                if($("#FamAge"+i).val() =="" ||$("#FamAge"+i).val() ==null)
                {
                    alert("Please Enter Age");
                    $("#FamAge"+i).focus();
                    return false;
                }
                if ($("#AdhNoFam"+i).val().length != 12 && $("#AdhNoFam"+i).val().length > 1) {
                    alert("Please Enter Valid Aadhaar Number");
                    $("#AdhNoFam" + i).focus();
                    return false;
                }
                var schempbk = $("#lblschemechk"+i).text();
                if(schempbk == 1)
                {
                    if($("#schpassbk"+i).val() =="" ||$("#schpassbk"+i).val() ==null)
                    {
                        alert("Please select Scheme Passbook");
                        $("#schpassbk" + i).focus();
                        return false;
                    }
                }
                doc += $("#FamWRU"+i).val() + "$";
                doc +=$("#FamDept"+i).val() + "$";
                doc +=$("#DDLFamRel"+i).val() + "$";
                doc +=$("#DDLFamGender"+i).val() + "$";
                doc +=$("#FamDob"+i).val() +"$";
                doc +=$("#FamAge"+i).val() + "$";
                doc +=$("#AdhNoFam"+i).val() + "~";
            }
        }
        doc += "";
        $("#BenFamdet").val(doc);
        var doc1 = "";
         
        var shreallocation = "0";
        var dob = $("#namdob1").val();
        var dateAr = dob.split('-');
        var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
        var age = calculateAge(dateofbirth);
        var NomineeStatus = $("input[name='nomineedet']:checked").val();
        if(NomineeStatus == undefined)
        {
            alert("Please Select Yes/No For Nominee  Details");
            $("#nomiyes").focus();
            return false;
        }
        $("#NomineeStatus").val(NomineeStatus);
        var NamFather = 0;
        var Nammother = 0;
        var NamSpouse = 0;
        if(NomineeStatus == "Yes")
        {
            for (i = 1;i < namrowCount; i++)
            {
                if($("#NamiName"+i).val() =="" ||$("#NamiName"+i).val() ==null)
                {
                    alert("Please Enter Nominee Name");
                    $("#NamiName"+i).focus();
                    return false;
                }
                if($("#DDLNamRel"+i).val() =="" ||$("#DDLNamRel"+i).val() ==null)
                {
                    alert("Please Enter Nominee  Relation");
                    $("#DDLNamRel"+i).focus();
                    return false;
                }
                var namrel =  $("#DDLNamRel"+i).val();
                if(namrel =="Father")
                    NamFather  = NamFather  + 1;
                if(namrel =="Mother")
                    Nammother  = Nammother  + 1;
                if(namrel =="Spouse")
                    NamSpouse  = NamSpouse  + 1;
                if(NamFather > 1 ||Nammother > 1 ||NamSpouse >1)
                {
                    alert("Invalid Relation");
                    return false;
                }
                var namgen =  $("#DDLNamGender"+i).val();
                if(namgen =="Male")
                {
                    if(namrel == "Mother" ||namrel == "Daughter")
                    {
                        alert("Invalid Gender");
                        $("#DDLNamGender"+i).focus();
                        return false;
                    }
                }
                if(namgen =="Female")
                {
                    if(namrel == "Father" ||namrel == "Son")
                    {
                        alert("Invalid Gender");
                        $("#DDLNamGender"+i).focus();
                        return false;
                    }
                }
                if($("#namdob"+i).val() =="" ||$("#namdob"+i).val() ==null)
                {
                    alert("Please Enter Nominee  Date Of Birth");
                    $("#namdob"+i).focus();
                    return false;
                }
                if($("#NamAge"+i).val() =="" ||$("#NamAge"+i).val() ==null)
                {
                    alert("Please Enter Nominee  Age");
                    $("#NamAge"+i).focus();
                    return false;
                }
                if($("#SahreAlo"+i).val() =="" ||$("#SahreAlo"+i).val() ==null)
                {
                    alert("Please Enter Nominee  Share Allocation");
                    $("#SahreAlo"+i).focus();
                    return false;
                }
                var agevalid = $("#NamAge"+i).val();
                if(agevalid > 16)
                {
                    if($("#Bankname"+i).val() =="" ||$("#Bankname"+i).val() ==null)
                    {
                        alert("Please Enter Nominee  Bank Name");
                        $("#Bankname"+i).focus();
                        return false;
                    }
                    if($("#BankActNo"+i).val() =="" ||$("#BankActNo"+i).val() ==null)
                    {
                        alert("Please Enter Nominee  Bank Account No");
                        $("#BankActNo"+i).focus();
                        return false;
                    }
                    if($("#BranchName"+i).val() =="" ||$("#BranchName"+i).val() ==null)
                    {
                        alert("Please Enter Nominee  Branch Name");
                        $("#BranchName"+i).focus();
                        return false;
                    }
                    if($("#NamIfscCode"+i).val() =="" ||$("#NamIfscCode"+i).val() ==null)
                    {
                        alert("Please Enter Nominee  IFSC Code");
                        $("#NamIfscCode"+i).focus();
                        return false;
                    }
                    if ($("#NamIfscCode"+i).val().length != 11) {
                        alert("Please Enter Valid IFSC Code");
                        $("#NamIfscCode" + i).focus();
                        return false;
                    }
                }
                shreallocation =  parseInt((shreallocation),10)+parseInt(($("#SahreAlo"+i).val()),10);
                doc1 +=  $("#NamiName"+i).val() + "$";
                doc1 +=  $("#DDLNamRel"+i).val() + "$";
                doc1 +=  $("#DDLNamGender"+i).val() + "$";
                doc1 +=  $("#NamAge"+i).val() + "$";
                doc1 +=  $("#namdob"+i).val() + "$";
                doc1 +=  $("#SahreAlo"+i).val() + "$";
                doc1 +=  $("#BranchName"+i).val() + "$";
                doc1 +=   $("#NamIfscCode"+i).val() + "$";
                doc1 +=  $("#BankActNo"+i).val() + "$";
                doc1 +=  $("#Bankname"+i).val() + "~";
            }
        }
        doc1 += "";
        $("#Bennamedet").val(doc1);
        if(NomineeStatus == "Yes")
        {
            if(shreallocation >100)
            {
                var i = namrowCount-1;
                alert("The Shareallocation value Should not exceed 100");
                $("#SahreAlo"+1).focus();
                return false;
            }
            if(shreallocation < 100)
            {
                var i = namrowCount-1;
                alert("The Shareallocation value Should not be less than 100");
                $("#SahreAlo"+i).focus();
                return false;
            }
        }
        var validformlistStatus = $("input[name='formstatus']:checked").val()
        if(validformlistStatus == undefined)
        {
            alert("Please Select Yes or No in Form1");
            $("#frmyes").focus();
            return false;
        }
        if(validformlistStatus == "Yes")
        {
            if ($("#BenForm1").val() == "" || $("#BenForm1").val() == null || $("#BenForm1").val() == 0) {
                alert("Please Choose Form");
                $("#BenForm1").focus();
                return false;
            }
            if ($("#issueauth").val() == "" || $("#issueauth").val() == null || $("#issueauth").val() == 0) {
                alert("Please Select Issuing Authority");
                $("#issueauth").focus();
                return false;
            }
            if ($("#authloc").val() == "" || $("#authloc").val() == null) {
                alert("Please Enter Authority Location");
                $("#authloc").focus();
                return false;
            }
            if ($("#authname").val() == "" || $("#authname").val() == null) {
                alert("Please Enter Authority Name");
                $("#authname").focus();
                return false;
            }
        }
        if(validformlistStatus == "No")
        {
            alert("For further process,Please select Yes ,if you have Form 1 details");
            $("#frmyes").focus();
            return false;
        }
        if ($("#Photo").val() == "" || $("#Photo").val() == null || $("#Photo").val() == 0) {
            alert("Please Choose Photo");
            $("#Photo").focus();
            return false;
        }
        if ($("#Signature").val() == "" || $("#Signature").val() == null || $("#Signature").val() == 0) {
            alert("Please Choose Signature");
            $("#Signature").focus();
            return false;
        }
        if('@Session["Status"]' == "Yes")
        {
            if ($("#idschemecert").val() == "" || $("#idschemecert").val() == null || $("#idschemecert").val() == 0) {
                alert("Please Choose Scheme Certificate");
                $("#idschemecert").focus();
                return false;
            }
        }
        $('#disfrst').removeClass('active');
        $('#disstep').removeClass('active');
        $('#benistep').removeClass('active');
        $('#depstep').removeClass('active');
        $('#addstep').addClass('active');
        $('#step0').removeClass('active');
        $('#step1').removeClass('active');
        $('#step2').removeClass('active');
        $('#step3').removeClass('active');
        $('#step4').addClass('active');
        $(".esilst").focus();
        //srikar
        if(RegistrationType == "NewReg" || RegistrationType == "Legacy1" || RegistrationType == "Legacy2" )
        {
            //if(BenTempId == "")
           // {
                $.post('@Url.Action("RegisNomineeDepdet", "Registration")', {Dependent : doc,Nominee: doc1,Issueauth: $("#issueauth").val(),authorityloc:$("#authloc").val(),Authname:$("#authname").val(),NamCount :namrowCount,famcount : famrowCount,NamStatus : NomineeStatus , FamStatus : DependentStatus,Id : $("#TempBensno").val()}, function (dat) {
                    // alert(dat);
                });
           // }
        }
    }
    //BOCW
    $('#chkWBBOCW').change(function() {
        var res = $(this).is(':checked');
        if(res)
        {
            $("#divWBBOCW").show();
        }
        else
        {
            $("#divWBBOCW").hide();
        }
    })
    //WBTWSSS
    $('#chkWBTWSSS').change(function() {
        var res = $(this).is(':checked');
        if(res)
        {
            $("#divWBTWSSS").show();
        }
        else
        {
            $("#divWBTWSSS").hide();
        }
    })
    //SASPF
    $('#chkSASPFUW').change(function() {
        var res = $(this).is(':checked');
        if(res)
        {
            $("#divSASPFUW").show();
        }
        else
        {
            $("#divSASPFUW").hide();
        }
    })
    function FinalSubmit() {
         
    }
    //FinalSubmit
    function OtpSubmit() {
         
        var otp = $("#OtpVerfy").val();
        if(otp == null || otp == ""){
            alert("Please Enter OTP");
            return false;
        }
        $.get('@Url.Action("VerifiyOtp", "Registration")', {MobileNumber : $("#mobno").val(),OTP : otp}, function (dat) {
             
            if(dat == "1"){
                alert("Invalid OTP");
                return false;
            }
            else
            {
                $("#signupform").submit();
            }
        });
        return false;
    }
    // Validation
    function AdditionalInfoSubmit() {
         
        //end
        var ValidPfEsiDet = $("input[name='pfesidet']:checked").val()
        var ValidEsiStatus = $("input[name='esidet']:checked").val()
        var validPFSta = $("input[name='pfsta']:checked").val()

        // alert(ValidPfEsiDet +" "+ValidEsiStatus);
        if(ValidPfEsiDet == undefined && ValidEsiStatus == undefined )
        {
            if(validPFSta == undefined)
            {
                alert("Please Select Yes / No in PF ");
                $(".Pf").focus();
                return false;
            }
        }
        if(  (ValidPfEsiDet == "PF"))
        {
            if($("#esinum").val() == "" || $("#esinum").val() ==null)
            {
                alert("Please Enter PF Number");
                $("#esinum").focus();
                return false;
            }
            if($("#esinum").val() == "" ||$("#esinum").val() == null)
            {
                if (validPFSta == undefined) {
                    alert("Please Select Yes / No in PF ");
                    $(".Pf").focus();
                    return false;
                }
            }
        }
        if(  (ValidEsiStatus == "ESI" ))
        {
            if($("#esi").val() == "" || $("#esi").val() ==null)
            {
                alert("Please Enter ESI Number");
                $("#esi").focus();
                return false;
            }
            if($("#esinum").val() == "" ||$("#esinum").val() == null)
            {
                if (validPFSta == undefined) {
                    alert("Please Select Yes / No in PF ");
                    $(".Pf").focus();
                    return false;
                }
            }
        }
        if(validPFSta == undefined)
        {
            $("#CheckPfStatus").val("0");
        }
        if (validPFSta == "1") {
            if (getuwtype == "Others") {
                var getemptype = $("input[name='Emptype']:checked").val()
                if (getemptype == undefined) {
                    alert("Please Select Employee Type");
                    return false;
                }
                if (getemptype == "SelfEmployed") {
                    if ($("#selfid").val() == "0") {
                        alert("Please Select Self Employed");
                        $("#selfid").focus();
                        $("#unorgid").val('');
                        return false;
                    }
                }
                if (getemptype == "UnorganisedIndustries") {
                    if ($("#unorgid").val() == "0") {
                        alert("Please Select Unorganised Industries");
                        $("#unorgid").focus();
                        $("#selfid").val('');
                        return false;
                    }
                }
            }
        }
        var getuwtype = $("input[name='Workertype']:checked").val()
        if (getuwtype == undefined) {
            alert("Please Select Worker Type");
            $(".workerdet").focus();
            return false;
        }
        //when esi is entered ,and when we click others
        var esino  = $('#esi').val();
        if(getuwtype == "Others")
        {
        }
        if (getuwtype == "Others") {
            var getemptype = $("input[name='Emptype']:checked").val()
            if (getemptype == undefined) {
                alert("Please Select Employee Type");
                return false;
            }
            if (getemptype == "SelfEmployed") {
                if ($("#selfid").val() == "0") {
                    alert("Please Select Self Employed");
                    $("#selfid").focus();
                    $("#unorgid").val('');
                    return false;
                }
            }
            if (getemptype == "UnorganisedIndustries") {
                if ($("#unorgid").val() == "0") {
                    alert("Please Select Unorganised Industries");
                    $("#unorgid").focus();
                    $("#selfid").val('');
                    return false;
                }
            }
        }
        if ($("#mnthyincme").val() == "" || $("#mnthyincme").val() == null) {
            alert("Please Enter Monthly Income");
            $("#mnthyincme").focus();
            return false;
        }

        var lstcheckagree = $("#lstcheckagree").is(':checked');
        if(lstcheckagree ==false)
        {
            alert("Please click on the checkbox");
            $("#lstcheckagree").focus();
            return false;
        }

        if(RegistrationType == "NewReg" || RegistrationType == "Legacy1" || RegistrationType == "Legacy2")
        {
            if(BenTempId == "")
            {
                AdditionalDetail()
            }
        }
        $("#signupform").submit();
        //Sending OTP
        @*$.get('@Url.Action("SenOtp", "Registration")', {MobileNumber : $("#mobno").val(),Mail : $("#email").val()}, function (dat) {
            alert(dat);
            $("#divotp").show();
            $("#divotp").focus();
            $(".finalsub").hide();
        });*@
    }
    function ResendOtp(){
         
        $.get('@Url.Action("SenOtp", "Registration")', {MobileNumber : $("#mobno").val(),Mail : $("#email").val()}, function (dat) {
            alert(dat);
            $("#divotp").show();
            $("#divotp").focus();
        });
    }
    //Validating Identity cards
    function validateCard(){
        var ddlcards = $("#ddlcards").val();
        var txtlength = $("#cards").val();
         
        if(ddlcards == "1")
        {
            if(txtlength.length != 12)
            {
                alert("Invalid Aadhar Number");
                $("#cards").focus();
                return false;
            }
        }
        if(ddlcards == "2")
        {
            if(txtlength.length > 15 || txtlength.length < 5)
            {
                alert("Invalid Epic Number");
                $("#cards").focus();
                return false;
            }
        }
        if(ddlcards == "3")
        {
            if(txtlength.length > 20 || txtlength.length < 5)
            {
                alert("Invalid Driving License Number");
                $("#cards").focus();
                return false;
            }
        }
    }
    //check mobile number Avl
    function validateMobilenum(){
         
        var x = $("#mobno").val();
        //  alert(x[0]);
        if(x[0] !="7" && x[0] !="8" && x[0] !="9" )
        {
            alert("Invalid Mobile Number");
            return false;
        }
        $.get('@Url.Action("CheckUserExist", "Registration")', {UserMobile : $("#mobno").val() }, function (dat) {
            if(dat > 0)
            {
                alert("This Mobile number is already exists");
                $("#mobno").val("");
                $("#mobno").focus();
                return false;
            }
        });
    }
    //Check Huband Name Validation
    //Remove cancel button for  Dependent
    $(document).on('click', 'button.removefambutton', function () { // <-- changes
        var famrowCount = $('.tblfamily tr').length;
        var $tr = $(this).closest('tr');
        var myRow = $tr.index();
        if(myRow == famrowCount-2)
        {
            $(this).closest('tr').remove();
            return false;
        }
        else
        {
            alert("Only last row will be deleted");
            return false;
        }
    });
    //Remove cancel button for Nominee
    $(document).on('click', 'button.removenambutton', function () { // <-- changes
        var namrowCount = $('.tblNaminee tr').length;
        var $tr = $(this).closest('tr');
        var myRow = $tr.index();
        if(myRow ==namrowCount-2)
        {
            $(this).closest('tr').remove();
            return false;
        }
        else
        {
            alert("Only last row will be deleted")
            return false;
        }
    });
    //Work Type
    $('.Wortype').change(function() {
         
        var Workertype = $("input[name='Emptype']:checked").val()
        $("#selfid").val("0");
        $("#unorgid").val("0");
        if(Workertype =="SelfEmployed")
        {
            $("#selfid").attr("disabled", false);
            $("#selfid").removeAttr("readonly");
            $("#unorgid").attr("disabled", true);
            $("#unorgid").add("readonly");
        }
        if(Workertype =="UnorganisedIndustries")
        {
            $("#unorgid").attr("disabled", false);
            $("#unorgid").removeAttr("readonly");
            $("#selfid").attr("disabled", true);
            $("#selfid").add("readonly");
        }
    });
    $('.page2').click(function() {
        $('#step1').addClass('active');
        $('#disstep').addClass('active');
        $('#step2').removeClass('active');
        $('#benistep').removeClass('active');
        $('#step1').show();
    });
    $('.page3').click(function() {
        $('#step3').removeClass('active');
        $('#depstep').removeClass('active');
        $('#step2').addClass('active');
        $('#benistep').addClass('active');
    });
    $('.page4').click(function() {
        $('#step4').removeClass('active');
        $('#step3').addClass('active');
        $('#addstep').removeClass('active');
        $('#depstep').show();
    });
    //For Uploading File


    $('INPUT[type="file"]').change(function () {
         

        var fname  =  "";

        if(this.id == "Photo")
        {
            fname ="photo";
        }
        if(this.id == "Signature")
        {
            fname ="signature";
        }
        if(this.id == "BenForm1")
        {
            fname ="form";
        }
        if(this.id == "Aadharcardprof")
        {
            fname ="aadharcard";
        }
        if(this.id == "Idproof")
        {
            fname ="epic card";
        }
        if(this.id == "Bank")
        {
            fname ="bank";
        }

        if(this.id == "schpassbk1"|| this.id == "schpassbk2" || this.id == "schpassbk3" || this.id == "schpassbk4"|| this.id == "schpassbk5"||this.id == "schpassbk6")
        {
            fname = "dependency scheme passBook";
        }
        //this.value.replace(/C:\\fakepath\\/i, '');
        if(this.id == "idschemecert")
        {
            fname ="Scheme Certificate";
        }



        if(this.id == "Photo"  || this.id == "Signature")
        {
            if (this.files[0].size < 2000000) {
				//var ext = this.value.match(/\.(.+)$/)[1];
				var ext = this.value.match(/\.(.+)$/)[1];
				var ext2 = this.value.substr((this.value.lastIndexOf('.') + 1));
                switch (ext2) {
                    case 'jpg':
                    case 'jpeg':
                    case 'png':
                    case 'JPG':
                    case 'JPEG':
                    case 'PNG':
                        break;
                    default:

                        alert('Please choose ' + fname + ' only jpg,jpeg or png,pdf File');

                        this.value = '';
                        this.focus();
                }
            }
            else {
                alert('Please choose size of ' + fname + ' file below 2MB');
                this.value = '';
                this.focus();
            }
        }
        else{
            if (this.files[0].size < 2000000) {
				//var ext = this.value.match(/\.(.+)$/)[1];
				var ext = this.value.match(/\.(.+)$/)[1];
				var ext2 = this.value.substr((this.value.lastIndexOf('.') + 1));
                switch (ext2) {
                    case 'jpg':
                    case 'jpeg':
                    case 'png':
                    case 'pdf':
                    case 'JPG':
                    case 'JPEG':
                    case 'PNG':
                    case 'PDF':
                        break;
                    default:
                        alert('Please choose ' + fname + ' only jpg,jpeg or png,pdf File');
                        this.value = '';
                        this.focus();
                }
            }
            else {
                alert('Please choose size of ' + fname + ' file below 2MB');
                this.value = '';
                this.focus();
            }
        }
    });
    $("#Aadharcardprof").click(function(){
        var AadhNo = $("#Aadharcard").val();
        if(AadhNo == "" || AadhNo == null)
        {
            alert("Without Aadhar Card No,You cannot Choose a file");
            return false;
        }
    })
    $("#Idproof").click(function(){
        var epiccard = $("#epiccard").val();
        if(epiccard == "" || epiccard == null)
        {
            alert("Without Epic Card No ,You cannot Choose a file");
            return false;
        }
    })

    // Change Request Double entry of Bank A/c in SSY portal 05042018
    //$("#Bank").click(function(){
    //    var BankAccNumber = $("#BankAccNo").val();
    //    if(BankAccNumber  == "" || BankAccNumber  == null)
    //    {
    //        alert("Without Bank Account Number ,You cannot Choose a file");
    //        return false;
    //    }
    //})

    //For calculating age
    var calculateAge = function (birthday) {
         
        var now = new Date();
        var past = new Date(birthday);
        var nowYear = now.getFullYear();
        var pastYear = past.getFullYear();
        var age = nowYear - pastYear;
        return age;
    };
    function getvalidation(e) {
         
        alert(e);
    }
    function  Checklength(e,txt)
    {
         
        $("#"+e).css('border-color', 'green')
        var txtlength =  $("#"+e).val();
        if(txtlength.length < txt )
        {
            $("#"+e).focus().css('border-color', 'red');
            return false;
        }
    }
    // Share Allocation Row count
    function Changevalue()
    {
         
        //Get Table Rowlength
        var rowCount = $('.tblNaminee tr').length;
        var shreallocationrange = "0";
        for (i = 1;i < rowCount; i++)
        {
            shreallocationrange =  parseInt((shreallocationrange),10)+parseInt(($("#SahreAlo"+i).val()),10);
        }
        if(shreallocationrange > 100)
        {
            alert("Share Allocation Accepts only 100%");
            var n = rowCount-1;
            $("#SahreAlo"+n).focus();
            return false;
        }
    }
    //Nominee Ifsc code
    $("#NamIfscCode1").keypress(function() {
        var ifscnomval = $(this).val();
        if(ifscnomval.length == 4)
        {
            $(this).val(ifscnomval+"0");
            return false;
        }
    });
    $("#BankActNo1").change(function()
    {
        var txtlength = $(this).val();
         
        if(txtlength.length > 16 || txtlength.length < 9)
        {
            alert("Invalid Bank Account Number");
            $("#BankActNo1").focus().val('');
            return false;
        }
    })
    //For existing User
    $(".EScheme").change(function(){
        var EnrolSche = $("input[name='enscheme']:checked").val()
         
        if(EnrolSche == "No")
        {
            $('#disfrst').removeClass('active');
            $('#disstep').addClass('active');
            $("#step0").hide();
            $("#step1").show();
        }
        if(EnrolSche == "Yes")
        {
            $("#enrolledsch").show();
            window.location.href = "/Registration/ExistngUserEdit";
        }
    });
    $("#IdAadharYN").change(function(){
        var res = $("#IdAadharYN").is(':checked');
        if (res == true) {
            $("#Aadharcard").val('');
            $("#Aadharcardprof").val('');
            alert("Epic Card is Mandatory");
            $("#epiccard").focus();
            //return false;
        }
    })
    $("#Aadharcard").change(function()
    {
        var txtlength = $("#Aadharcard").val();
         
        //alert(txtlength.length);
        if(txtlength.length != 12 && txtlength.length > 0)
        {
            alert("Invalid Aadhar Number");
            $("#Aadharcard").focus();
            return false;
        }
    })
    //$("#BankAccNo").change(function()
    //{
    //    var txtlength = $("#BankAccNo").val();
    //     
    //    if(txtlength.length > 16 || txtlength.length < 9)
    //    {
    //        alert("Invalid Bank Account Number");
    //        $("#BankAccNo").focus();
    //        return false;
    //    }
    //})
    //For Bank details Account Number
    $("#actnumber").change(function()
    {
        var txtlength = $("#actnumber").val();
         
        if(txtlength.length > 16 || txtlength.length < 9)
        {
            alert("Invalid Account Number");
            $("#actnumber").focus();
            return false;
        }
    })
    $('#mnthyincme').change(function() {
        var getuwtype = $("input[name='Workertype']:checked").val()
         
        if (getuwtype == "Others") {
            var getemptype = $("input[name='Emptype']:checked").val()
            if (getemptype == undefined || getemptype == "UnorganisedIndustries" || getemptype == "SelfEmployed") {
                if ($("#mnthyincme").val() > 6500 ) {
                    alert("For 'Others' type of worker category ,monthly income should not be greater than Rs. 6,500/- ");
                    $("#mnthyincme").focus();
                    $("#mnthyincme").val('');
                    return false;
                }
            }
        }
    })
    $("#perdistid,#persubdivid,#peraddBMC,#peraddblock,#perpsid,#perPOid,#pincode,#ward,#vlge1").on( "change", function() {
        $("#presauto").attr('checked', false);
        $("#PreAddrdistid,#preAddrsubdiv,#preaddBMC,#preaddBlock,#preaddPS,#preaddPO,#ward2").val("0");
        $("#pincode2,#vlge2").val('');
    });
    $("#clearAadhar").click(function(){
        $("#Aadharcardprof").val("");
    });
    $("#clearEpic").click(function(){
        $("#Idproof").val("");
    });
    $("#clearOther").click(function(){
        $("#OtherDoc").val("");
    });
    $("#clearBank").click(function(){
        $("#Bank").val("");
    });
    //  checkstring
    $('.checkstring').keyup(function (e) {
        var  value = $(this).val();
        if(value.length == 4 || value.length == 5 ||value.length == 6)
        {
            //
            // if()
            if(value.toLowerCase().indexOf("test") >= 0 || value.toLowerCase().indexOf("edit") >= 0 || value.toLowerCase().indexOf("sample") >= 0 || value.toLowerCase().indexOf("dummy") >= 0 || value.toLowerCase().indexOf("dumy") >= 0 ||value.toLowerCase().indexOf("dammy") >= 0)
            {
                alert("Please Enter  Proper Name.");
                $(this).val("");
                $(this).focus();
                return false;
            }
        }
    });
    // Get Photo
    function readPhotoURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //  alert(e.target.result);
                $('#image_upload_preview_Photo').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readSignURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //    alert(e.target.result);
                $('#image_upload_preview_Signature').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readAdharURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //  alert(e.target.result);
                $('#image_upload_preview_adharnoproof').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readEpicURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //   alert(e.target.result);
                $('#image_upload_preview_bnkpassbkidproof').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readBankURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //  alert(e.target.result);
                $('#image_upload_preview_bnkpassbk').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readFormURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //  alert(e.target.result);
                $('#image_upload_preview_form').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    function readSchemeCertURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                //  alert(e.target.result);
                $('#image_upload_preview_SchemeCert').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    //Gp List for Present Address
    $("#preAddrsubdiv").change(loadGPre);
    function loadGPre() {
        // alert("loadGPre");
        $.get('@Url.Action("GetGPJSON", "Registration")', {ID :$("#preAddrsubdiv").val()}, function (dat) {
            $("#ward2").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#ward2").append("<option value=" + data.Value + ">"+ data.Text +"</option>");
            });
        });
    }
    //GP list
    $("#persubdivid").change(loadGP);
     
    function loadGP() {
        $.get('@Url.Action("GetGPJSON", "Registration")', {ID :$("#persubdivid").val()}, function (dat) {
            $("#ward").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#ward").append("<option value=" + data.Value + ">"+data.Text+"</option>");
            });
            //Present Address
            $("#ward2").find("option").remove();
            $.each(dat, function (i, data) {
                 
                $("#ward2").append("<option value=" + data.Value + ">"+data.Text+"</option>");
            });
        });
    }
    function Checkuniquenumber()
    {

        var num = $("#registrationno").val();

        if(num !="")
        {
            $.get('@Url.Action("Checkuniqueno", "Registration")', {Number :num}, function (res) {
                if(res !="")
                {
                    alert(res);
                    $("#registrationno").val("").focus();

                }
                return false;
            });
        }

    }
    function AdditionalDetail()
    {
         
        //Registration/RegisAdditionalDet
        //selforg: $("#selfid").val(),unorg: $("#unorgid").val(),
        var TemBensno= $("#TempBensno").val();
        var tempvalidPFSta = $("input[name='pfsta']:checked").val()
        var tempemptype = $("input[name='Workertype']:checked").val()
        var SelfEmp =  $("#SelfEmpNo").val();
        $.get('@Url.Action("RegisAdditionalDet", "Registration")', {Tempsno:$("#TempBensno").val(),pfnumdet: $("#esinum").val(),esinumdet: $("#esi").val(),tempemptype:tempemptype,occupat: tempemptype,selfemp: SelfEmp,estaddres: $("#estbaddress").val(),mnthincome: $("#mnthyincme").val(),pfsta : tempvalidPFSta}, function (dat) {
        });
    }
    //Page Wise Saving Functionality
    function BenDetailSave(BenTempId) {
         
        //alert("Hi");
        var data = "";
        var BplStatus = $("input[name='bplstatus']:checked").val();
        var Gender = $("input[name='bengender']:checked").val()
        //var deptuserid = $("#DepUserid").val(Userid);
        data = {
            BenTempId : BenTempId,
            BenGender : Gender,
            DDLDsalutation: $('#ddlfrstname').val(),
            registrationno : $("#registrationno").val(),
            Regdate : $("#Regdate").val(),
            Firstnamedet: $('#FirstName').val(),
            Middlenamedet: $('#Middlename').val(),
            lastnamedet: $('#lstname').val(),
            ddlfatherdet: $('#ddlfathrsname').val(),
            Fathernamedet: $('#FatherName').val(),
            Agedet: $('#age').val(),
            BenDob : $('#ddlyr').val() +"/"+$('#ddlmnth').val()+"/"+$('#ddlday').val(),
            Maritaldet: $('#maritalid').val(),
            ddlhusdet: $('#ddlhusname').val(),
            husbandnamedet: $('#HusbandName').val(),
            emaildet: $('#email').val(),
            religiondet: $('#relgid').val(),
            socaldet: $('#socatid').val(),
            bpldet: $('#bplno').val(),
            mobnodet: $('#mobno').val(),
            aadhardet: $('#Aadharcard').val(),
            epicdet: $('#epiccard').val(),
            bnkacctnodet: "",


            statedet: $('#state').val(),
            perdistdet: $('#perdistid').val(),
            persubdet: $('#persubdivid').val(),
            perbmcdet: $('#peraddBMC').val(),
            perblockdet: $('#peraddblock').val(),
            perpsdet: $('#perpsid').val(),
            perpodet: $('#perPOid').val(),
            perpincode1det: $('#pincode').val(),
            ward1det: $('#ward').val(),
            vlg1det: $('#vlge1').val(),
            predistdet: $('#PreAddrdistid').val(),
            presubdet: $('#preAddrsubdiv').val(),
            prebmcdet: $('#preaddBMC').val(),
            preblockdet: $('#preaddBlock').val(),
            prepsdet: $('#preaddPS').val(),
            prepodet: $('#preaddPO').val(),
            prepincode2det: $('#pincode2').val(),
            ward2det: $('#ward2').val(),
            vlg2det: $('#vlge2').val(),
            bplstat:BplStatus,

            bnkdist: $("#bankdistid").val(),
            bank: $("#bank").val(),
            actnumberdet: $("#actnumber").val(),
            locdet: $("#loc").val(),
            brnchdet: $("#brnch").val(),
            brnchaddrssdet: $("#branchaddress").val(),
            ifscdet: $("#ifsccode").val(),
            resondet: $("#txtreason").val()



        }
        $.post('@Url.Action("Regisbenifdet", "Registration")', {Data: JSON.stringify(data)}, function (dat) {
            // alert(dat);
            $("#TempBensno").val(dat);
        });
    }
    //Get Pending Application
    function GetTempDetail(dat)
    {
        // $(".divLoader").show();
        $.get('@Url.Action("GetTempBenDet", "Agent")', {Id : dat}, function (res) {
             
            //   $(".divLoader").Hide()
            $("#BenTempRegNo").val(res.BenTempRegNo);
            $("#ddlfrstname").val(res.BenSalutation);
            if(res.BenSalutation == "Mr.")
            {
                $('#gndrfemale').hide();
                $('#lblfemale').hide();
            }
            else
            {
                $('#gndrfemale').show();
                $('#lblfemale').show();
            }
            if(res.BenSalutation == "Ms." || res.BenSalutation == "Mrs.")
            {
                $('#gndrmale').hide();
                $('#lblmale').hide();
            }
            else
            {
                $('#gndrmale').show();
                $('#lblmale').show();
            }
            $("#FirstName").val(res.BenFirstName);
            $("#Middlename").val(res.BenMiddleName);
            $("#lstname").val(res.BenLastName);
            $("#FatherName").val(res.BenFatherFirstName).addClass('label-data');
            if(res.RegNumber == null ||res.RegNumber == "")
            {
                $("#existregdet").hide();
            }
            else
            {
                $("#existregdet").show();
                $("#registrationno").val(res.RegNumber);
                $("#Regdate").val(res.BenRegDate);
                var regdate = res.BenRegDate.split('-');

                if(regdate[1] < 4 && regdate[1] == 2018 ||  regdate[1] <= 2017)
                {
                    $("#lblregnum").text("Registration No under  erstwhile  SASPFUW/ BOCW/ WBTWSSS");
                }

                if(regdate[1] > 4 && regdate[1] >= 2018)
                {
                    $("#lblregnum").text("Temporary Registration No under SSY");
                }


            }
             
            var dob = res.BenDob.split('-');
            $("#ddlyr").val(dob[2]);
            $("#ddlmnth").val(dob[1]);
            $("#ddlday").val(dob[0]);
            getage()
            $("input[name=bengender][value=" + res.BenGender + "]").prop('checked', true);
            $("#maritalid").val(res.BenMaritalStatus);
            $("#email").val(res.Email);
            if(res.HusbandName !=null && res.HusbandName !="")
            {
                $("#HusbandName").removeAttr("readonly");
                $("#HusbandName").val(res.HusbandName);
            }
            if(res.BenIdCardType =="1")
                $("#cards").val(res.BenIdCardNo);
            else
                $("#cards").val(res.BenIdCardNo);
            $("#relgid").val(res.BenReligion);
            $("#socatid").val(res.BenSocialCategory);
            var Bplstat="";
            if(res.BenBplStatus == true)
            {
                Bplstat = 1;
                $("#bplno").removeAttr("readonly");
            }
            else
                Bplstat = 0;
            $("input[name=bplstatus][value=" + Bplstat + "]").prop('checked', true);
            $("#bplno").val(res.BenBplNo);
            $("#lbloccu").val(res.BenOccupation);
            $("#mobno").val(res.BenMobileNo);
            $("#ifsccode").val(res.BenBankIfscCode);
            if(res.BankDist != null)
            {
                $("#bankdistid").val(res.BankDist);
                $("#bank").val(res.BenBankName);
                $("#loc").val(res.BankLoc);
                $("#brnch").val(res.BenBankBranch);
            }
            $("#actnumber").val(res.BenBankAccNo);
            $("#Aadharcard").val(res.AadharCard);
            $("#epiccard").val(res.EpicCard);
            //$("#BankAccNo").val(res.BankAccNo);
            var ifsc =$("#brnch").val();
            var res = ifsc.split("-");
            $.get('@Url.Action("GetbranchAddrJSON", "Registration")', {ID :res[1]}, function (dat) {
                $("#branchaddress").val(dat);
            });



            $("input[name=esistatus][value=" + res.BenProvisionType + "]").prop('checked', true);
             
            if(res.BenProvisionNo !=null && res.BenProvisionNo != "")
            {
                $("#esinum").removeAttr("readonly");
                $("#esinum").val(res.BenProvisionNo);
                $('#chkpf').attr('checked', true);
            }
            //  alert(res.BenProvisionNo +"/"+ res.BenEsiNumber);
            if(res.BenEsiNumber !=null && res.BenEsiNumber != "")
            {
                $("#esi").removeAttr("readonly");
                $("#esi").val(res.BenEsiNumber);
                $('#chkesi').attr('checked', true);
            }
            $("#CheckPfStatus").val(res.BenPFStatus);
            $("input[name=pfsta][value=" + res.BenPFStatus + "]").prop('checked', true);
            $("#Occupation").val(res.BenEmpType);
            $("input[name=Workertype][value=" + res.BenEmpType + "]").prop('checked', true);
            if(res.BenEmpType == "Others")
            {
                //alert(res.IndType);
                $(".Wortype").attr("disabled", false);
                if(res.IndType == 1)
                {
                    $("#selfid").val(res.BenSelfEmployed);
                    $("input[name=Emptype][value=" + "SelfEmployed" + "]").prop('checked', true);
                    $("input[name=Emptype]").attr('disabled', false);
                    $("#selfid").attr("disabled", false);
                    $("#selfid").removeAttr("readonly");
                    $("#selfemp").val(res.IndustryName);
                }
                if(res.IndType == 2)
                {
                    $("#unorgid").val(res.BenSelfEmployed);
                    $("input[name=Emptype][value=" + "UnorganisedIndustries" + "]").prop('checked', true);
                    $("input[name=Emptype]").attr('disabled', false);
                    $("#unorgid").attr("disabled", false);
                    $("#unorgid").removeAttr("readonly");
                    $("#occu").val(res.IndustryName);
                }
                var getemptype = $("input[name='Emptype']:checked").val()
                if (getemptype == undefined || getemptype == "UnorganisedIndustries" || getemptype == "SelfEmployed") {
                    if ($("#mnthyincme").val() > 6500 ) {
                        alert("For 'Others' type of worker category ,monthly income should not be greater than Rs. 6,500/- ");
                        $("#mnthyincme").focus();
                        $("#mnthyincme").val('');
                        return false;
                    }
                }
            }
            $("#estbaddress").val(res.BenEstablishedAddress);
            $("#mnthyincme").val(res.BenMonthlyIncom);
            $("input[name=formstatus][value=" + "Yes" + "]").prop('checked', true);
            $("#Benform").show();
            $("#issueauth").focus();
            $("#issueauth").attr("disabled", false);
            $("#issueauth").removeAttr("readonly");
            $("#authloc").removeAttr("readonly");
            $("#authname").removeAttr("readonly");
            $("#authname").val(res.BenIssuingAuthName);
            $("#issueauth").val(res.BenIssuingAuth);
            $("#authloc").val(res.AuthorityLocation);

        });
        $.get('@Url.Action("BenTempAddressDet", "Agent")',  {Id :dat}, function (res) {
             
            $.each(res, function (i, data) {
                 
                if(data.BenAddressType =="Permanent")
                {
                    $("#permid").val(data.BenAddressSno);
                    $("#perdistid").val(data.BenDistrict);
                    $("#persubdivid").val(data.BenSubDivision);
                    $("#peraddBMC").val(data.LocationType);
                    $("#peraddblock").val(data.BenBmc);
                    $("#perpsid").val(data.BenPs);
                    $("#perPOid").val(data.BenPo);
                    $("#pincode").val(data.BenPincode);
                    if(data.BenGpWard == "0")
                    {
                        $("#ward").find("option").remove();
                        $("#ward").append('<option value=0>All Wards</option>');
                        $("#ward").val(0);
                    }
                    else
                    {
                        $("#ward").val(data.BenGpWard);
                    }
                    if(data.BenGpWard == "9999")
                    {
                        $("#ward").find("option").remove();
                        var BlockName1= $("#peraddblock option:selected").text();
                        $("#ward").append('<option value=9999>'+BlockName1+'</option>');
                        $("#ward").val('9999');
                    }
                    $("#vlge1").val(data.BenVsr);
                }
                if(data.BenAddressType =="Present")
                {
                    $("#presid").val(data.BenAddressSno);
                    $("#PreAddrdistid").val(data.BenDistrict);
                    $("#preAddrsubdiv").val(data.BenSubDivision);
                    $("#preaddBMC").val(data.LocationType);
                    $("#preaddBlock").val(data.BenBmc);
                    $("#preaddPS").val(data.BenPs);
                    $("#preaddPO").val(data.BenPo);
                    $("#pincode2").val(data.BenPincode);
                    if(data.BenGpWard == "0")
                    {
                        $("#ward2").find("option").remove();
                        $("#ward2").append('<option value=0>All Wards</option>');
                        $("#ward2").val(0);
                    }
                    else
                    {
                        $("#ward2").val(data.BenGpWard);
                    }
                    if(data.BenGpWard == "9999")
                    {
                        $("#ward2").find("option").remove();
                        var BlockName= $("#preaddBlock option:selected").text();
                        $("#ward2").append('<option value=9999>'+BlockName+'</option>');
                        $("#ward2").val('9999');
                    }
                    $("#vlge2").val(data.BenVsr);
                }
            });
        })
        $.get('@Url.Action("GetBenFamilyTemp", "Agent")',  {Id : dat}, function (res) {
            //alert(res);
            if(res != "")
            {
                $('.tblfamily tbody').empty();
            }
            if(res =="" || res ==null)
            {
                $("input[name=dependentdet][value=" + "No" + "]").prop('checked', true);
                $('.tblfamily').hide();
                $('.btndepen').hide();
            }
            else
            {
                $("input[name=dependentdet][value=" + "Yes" + "]").prop('checked', true);
                $('.tblfamily').show();
                $('.btndepen').show();
            }
            $.each(res, function (i, data) {
                //  alert(i);
                var rowCount = $('.tblfamily tr').length;
                var num = i + 1;
                $('.tblfamily').append('<tr><td style="display:none"><input id="Familyid'+rowCount+'" type="text" value="'+(data.BenFamilyMemSno)+'"  class="form-control" name="Familyid"></td><td><input id="famid'+num+'" type="text"  class="form-control" value="'+num+'" style="width:39px;" readonly="readonly"></td><td><input id="FamWRU'+rowCount+'" type="text"  class="form-control" value="'+(data.BenFamilySchRegNo)+'" name="famiName"  maxlength = 16 onkeypress = "return IsAlphaNumaric(event,this)"></td><td><input id="FamDept'+rowCount+'" type="text"  class="form-control" value="'+(data.BenDependentName)+'" name="FamDept" style="width:112px;" onkeypress = "return onlyAlphabets(event,this)"></td><td><select id="DDLFamRel'+rowCount+'" value="'+(data.BenDependentRelation)+'" class="form-control" name="DDLFamRel" style="width: 92px;"><option value="Father">Father</option><option value="Mother">Mother</option><option value="Spouse">Spouse</option><option value="Son">Son</option><option value="Daughter">Daughter</option></select></td><td><select id="DDLFamGender'+rowCount+'" class="form-control"  name="DDLGender" style="width: 92px;"><option value="Male">Male</option><option value="Female">Female</option></select></td><td><input id="FamDob'+rowCount+'" type="text"  name="FamDob" class="form-control notranslate Famdob" value="'+data.Dob+'"  style="width:130px;"></td><td><input id="FamAge'+rowCount+'"  class="form-control" type="text" value="'+data.BenFamilyAge+'" name="FamAge" style="width:50px;" onkeypress = "return onlynumber(event,this)" maxlength = 3 readonly="readonly"><td><input id="AdhNoFam'+rowCount+'" type="text" value="'+data.BenFamilyAadhaarNo+'" class="form-control" name="AdhNoFam" maxlength = 12 onkeypress = "return onlynumber(event)" ></td><td><input id="schpassbk'+rowCount+'" type="file" class="form-control" name="files['+(rowCount+6)+']" ></td><td></td><td style="display:none;"><label id="lblschemechk'+rowCount+'">0</label></td></tr>')
                $("#FamDob"+rowCount).datepicker({
                    dateFormat: "dd-mm-yy",
                    changeYear: true,
                    yearRange: "1960:2017",
                    autoclose: true
                })
                var dat = new Date();
                var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
                var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
                var today = day + "-" + month + "-" + dat.getFullYear();
                $("#DDLFamRel"+rowCount).val(data.BenDependentRelation);
                $("#DDLFamGender"+rowCount).val(data.BenFamilyGender);
                $('body').on('change', '#FamDob'+rowCount, function () {
                    var dob = $("#FamDob"+rowCount).val();
                    var dateAr = dob.split('-');
                    var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
                    var age = calculateAge(dateofbirth);
                    $("#FamAge"+rowCount).val(age)
                });
                $('body').on('change', '#FamWRU'+rowCount, function () {

                    $('#lblschemechk'+rowCount).text("0");
                    if($("#FamWRU"+rowCount).val() !="")
                    {


                        $.get('@Url.Action("GetBenDetails", "Agent")', { id: $("#FamWRU"+rowCount).val()}, function (dat) {
                            if(dat == "")
                            {
                                alert("No Data Found, Please Enter Data Manually.");
                                $('#lblschemechk'+rowCount).text("0");
                                return False;
                            }
                            $('#lblschemechk'+rowCount).text("1");
                            $('#FamDept'+rowCount).val(dat.BenFirstName +' '+ dat.BenMiddleName +' '+ dat.BenLastName);
                            $('#DDLFamGender'+rowCount).val(dat.BenGender);
                            $('#FamDob'+rowCount).val(dat.BenDob);
                            $("#FamAge" +rowCount).val(dat.BenAge);
                            $("#AdhNoFam"+rowCount).val(dat.AadharCard);
                            $("#schpassbk"+rowCount).show();
                        });

                    }
                });
                $('body').on('change', '#DDLFamGender'+rowCount, function () {
                    var famrel =  $("#DDLFamRel"+rowCount).val();
                    var famgen =  $("#DDLFamGender"+rowCount).val();
                    if(famgen =="Male")
                    {
                        if(famrel == "Mother" ||famrel == "Daughter")
                        {
                            alert("Invalid Gender");
                            return false;
                        }
                    }
                    if(famgen =="Female")
                    {
                        if(famrel == "Father" ||famrel == "Son")
                        {
                            alert("Invalid Gender");
                            return false;
                        }
                    }
                });
            });
        });
        //Get Nominee Details
        $.get('@Url.Action("GetBenNomineeTemp", "Agent")',  {bensno : dat}, function (res) {
            //  alert(res);
            if(res != "")
            {
                $('.tblNaminee tbody').empty();
            }
            if(res =="" || res ==null)
            {
                $("input[name=nomineedet][value=" + "No" + "]").prop('checked', true);
                $('.tblNaminee').hide();
                $('.btnnom').hide();
            }
            else
            {
                $("input[name=nomineedet][value=" + "Yes" + "]").prop('checked', true);
                $('.tblNaminee').show();
                $('.btnnom').show();
            }
             
            $.each(res, function (i, data) {
                var num = i + 1;
                var rowCount = $('.tblNaminee tr').length;
                $('.tblNaminee').append('<tr><td style="display:none"><input id="nomineeid'+rowCount+'" type="text" value="'+(data.BenNomineeSno)+'"  class="form-control" name="nomineeid"></td><td><input id="namid'+num+'" type="text"  class="form-control" value="'+num+'" style="width:39px;" readonly="readonly"></td><td><input id="NamiName'+rowCount+'" type="text"  class="form-control" value="'+(data.BenNomineeName)+'" name="NamiName" style="width:112px;" onkeypress = "return onlyAlphabets(event,this)"></td><td><select id="DDLNamRel'+rowCount+'" value="'+(data.BenNomineeRelation)+'" class="form-control" name="DDLNamRel" style="width: 92px;"><option value="Father">Father</option><option value="Mother">Mother</option><option value="Spouse">Spouse</option><option value="Son">Son</option><option value="Daughter">Daughter</option></select></td><td><select id="DDLNamGender'+rowCount+'" class="form-control"  name="DDLGender" style="width: 92px;"><option value="Male">Male</option><option value="Female">Female</option></select></td><td><input id="namdob'+rowCount+'" type="text"  name="namdob" class="form-control notranslate namdob" value="'+data.Dob+'"  style="width:130px;"></td><td><input id="NamAge'+rowCount+'"  class="form-control" type="text" value="'+data.BenNomineeAge+'" name="NamAge" style="width:50px;" onkeypress = "return onlynumber(event,this)" maxlength = 3 readonly="readonly"></td> <td><input id="SahreAlo'+rowCount+'"  class="form-control" type="text" value="'+data.BenNomineeShareAllocation+'" name="SahreAlo" onkeypress = "return onlynumber(event,this)" maxlength = 3></td><td><input id="Bankname'+rowCount+'"  class="form-control" type="text" name="Bankname" value="'+data.BenNomineeBankName+'"  maxlength = 16 onkeypress = "return onlyAlphabets(event,this)"></td><td><input id="BankActNo'+rowCount+'"   class="form-control" type="text" value="'+data.BenNomineeBankAccNo+'" name="BankActNo"  maxlength = 16 onkeypress = "return onlynumber(event,this)"></td><td><input id="BranchName'+rowCount+'"   class="form-control" type="text" name="BranchName" value="'+data.BenNomineeBankBranch+'" style="width:100px;" maxlength = 25 onkeypress = "return onlyAlphabets(event,this)"></td><td><input id="NamIfscCode'+rowCount+'" type="text" value="'+data.BenNomineeBankIfscCode+'" class="form-control" name="NamIfscCode" style="width:85px;text-transform:uppercase" maxlength = 11 onkeypress = "return IsAlphaNumaric(event)" ></td><td></td></tr>')
                $("#namdob"+rowCount).datepicker({
                    dateFormat: "dd-mm-yy",
                    changeYear: true,
                    yearRange: "1920:2017",
                    autoclose: true
                })
                var dat = new Date();
                var month = (dat.getMonth() + 1) < 10 ? '0' + (dat.getMonth() + 1) : '' + (dat.getMonth() + 1);
                var day = (dat.getDate()) < 10 ? '0' + (dat.getDate()) : '' + (dat.getDate());
                var today = day + "-" + month + "-" + dat.getFullYear();
                $("#DDLNamRel"+rowCount).val(data.BenNomineeRelation);
                $("#DDLNamGender"+rowCount).val(data.BenNomineeGender);
                $('body').on('change', '#DDLNamRel'+rowCount, function () {
                    var Checknamrel =  $("#DDLNamRel"+rowCount).val();
                    for (i = 1; i < rowCount; i++)
                    {
                        var rel =  $("#DDLNamRel"+rowCount).val();
                        if(rel == "Father" || rel == "Mother"|| rel =="Spouse" )
                        {
                            if(Checknamrel == rel )
                            {
                                alert("Invalid Relation");
                                return false;
                            }
                        }
                    }
                });
                $('body').on('change', '#namdob'+rowCount, function () {
                    var dob = $("#namdob"+rowCount).val();
                    var dateAr = dob.split('-');
                    var dateofbirth = dateAr[2] +"/"+dateAr[1] +"/"+dateAr[0];
                    var age = calculateAge(dateofbirth);
                    $("#NamAge"+rowCount).val(age)
                });
                $('body').on('change', '#SahreAlo'+rowCount, function () {
                    Changevalue();
                });
                $('body').on('change', '#DDLNamGender'+rowCount, function () {
                    var namrel =  $("#DDLFamRel"+rowCount).val();
                    var namgen =  $("#DDLFamGender"+rowCount).val();
                    if(namgen =="Male")
                    {
                        if(namrel == "Mother" ||namrel == "Daughter")
                        {
                            alert("Invalid Gender");
                            return false;
                        }
                    }
                    if(namgen =="Female")
                    {
                        if(namrel == "Father" ||namrel == "Son")
                        {
                            alert("Invalid Gender");
                            return false;
                        }
                    }
                });
                $('body').on('keypress', '#NamIfscCode'+rowCount, function () {
                    var ifscnomval = $(this).val();
                    if(ifscnomval.length == 4)
                    {
                        $(this).val(ifscnomval+"0");
                        return false;
                    }
                });
                $('body').on('change', '#BankActNo'+rowCount, function ()
                {
                    var txtlength = $(this).val();
                     
                    if(txtlength.length > 16 || txtlength.length < 9)
                    {
                        alert("Invalid Bank Account Number");
                        $(this).focus().val('');
                        return false;
                    }
                })
            });
        });
        return false;
    }
</script>